 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/App.js b/mobile/App.js
index 021dd1869c1c3f6fd77df4dc9e3d54513d0c6fca..af037ff0ea4f917dad28c8b9ac7425dda6e33eaa 100644
--- a/mobile/App.js
+++ b/mobile/App.js
@@ -49,50 +49,157 @@ enableScreens(false);
 const API =
   Constants.expoConfig?.extra?.API_URL ||
   Constants.manifest?.extra?.API_URL ||
   "https://bookitgy.onrender.com";
 
   console.log("### API base URL =", API);
 
 const withTimeout = (promise, ms, label) => {
   let timeoutId;
   const timeout = new Promise((_, reject) => {
     timeoutId = setTimeout(() => {
       const error = new Error(`${label || "Operation"} timed out after ${ms}ms`);
       error.code = "ETIMEDOUT";
       reject(error);
     }, ms);
   });
 
   return Promise.race([promise, timeout]).finally(() => {
     clearTimeout(timeoutId);
   });
 };
 
 const AUTH_BOOTSTRAP_WATCHDOG_MS = 15000;
 const AUTH_TOKEN_TIMEOUT_MS = 2000;
 const AUTH_ME_TIMEOUT_MS = 12000;
+const ANDROID_PASSWORD_MASK_FALLBACK = true;
+
+const AndroidPasswordInput = ({
+  value,
+  onChangeText,
+  style,
+  autoComplete = "password",
+  textContentType = "password",
+  importantForAutofill = "yes",
+  onSelectionChange,
+  onKeyPress,
+  onTextInput,
+  ...rest
+}) => {
+  // Android secure dots can render blank on some devices; this keeps masking visible.
+  const fallbackEnabled = Platform.OS === "android" && ANDROID_PASSWORD_MASK_FALLBACK;
+  const maskedValue = useMemo(() => "*".repeat(value.length), [value.length]);
+  const [selection, setSelection] = useState({
+    start: maskedValue.length,
+    end: maskedValue.length,
+  });
+
+  useEffect(() => {
+    if (!fallbackEnabled) return;
+    const end = maskedValue.length;
+    setSelection({ start: end, end });
+  }, [fallbackEnabled, maskedValue.length]);
+
+  const handleChangeText = useCallback(
+    (text) => {
+      if (!fallbackEnabled) {
+        onChangeText(text);
+        return;
+      }
+      if (text.length === 0) {
+        onChangeText("");
+      }
+    },
+    [fallbackEnabled, onChangeText]
+  );
+
+  const handleKeyPress = useCallback(
+    (event) => {
+      if (fallbackEnabled && event?.nativeEvent?.key === "Backspace") {
+        onChangeText(value.slice(0, -1));
+      }
+      onKeyPress?.(event);
+    },
+    [fallbackEnabled, onChangeText, onKeyPress, value]
+  );
+
+  const handleTextInput = useCallback(
+    (event) => {
+      if (!fallbackEnabled) {
+        onTextInput?.(event);
+        return;
+      }
+      const inserted = event?.nativeEvent?.text ?? "";
+      if (inserted.length) {
+        onChangeText(value + inserted);
+      }
+      onTextInput?.(event);
+    },
+    [fallbackEnabled, onChangeText, onTextInput, value]
+  );
+
+  const handleSelectionChange = useCallback(
+    (event) => {
+      if (!fallbackEnabled) {
+        onSelectionChange?.(event);
+        return;
+      }
+      const end = maskedValue.length;
+      setSelection({ start: end, end });
+      // Keep the cursor at the end to avoid mid-string edits when masked.
+      onSelectionChange?.(event);
+    },
+    [fallbackEnabled, maskedValue.length, onSelectionChange]
+  );
+
+  return (
+    <TextInput
+      style={[
+        style,
+        {
+          color: "#0f172a",
+          // Android secure glyphs can disappear with custom fonts/letterSpacing.
+          fontFamily: Platform.OS === "android" ? "sans-serif" : undefined,
+        },
+      ]}
+      autoCorrect={false}
+      autoCapitalize="none"
+      textContentType={textContentType}
+      autoComplete={autoComplete}
+      importantForAutofill={importantForAutofill}
+      keyboardType="default"
+      secureTextEntry={!fallbackEnabled}
+      value={fallbackEnabled ? maskedValue : value}
+      onChangeText={handleChangeText}
+      onKeyPress={handleKeyPress}
+      onTextInput={handleTextInput}
+      onSelectionChange={handleSelectionChange}
+      selection={fallbackEnabled ? selection : rest.selection}
+      {...rest}
+    />
+  );
+};
 
   const isValidEmail = (value) => {
   const trimmed = value.trim();
   const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
   return emailRegex.test(trimmed);
 };
 
 const resolveImageUrl = (url) => {
     if (!url || typeof url !== "string") return null;
     if (url.startsWith("http")) return url;
     if (url.startsWith("//")) return `https:${url}`;
     const normalizedPath = url.startsWith("/") ? url : `/${url}`;
     return `${API}${normalizedPath}`;
   };
 
 const LEGACY_ACCESS_TOKEN_KEY = "accessToken";
 
 const getAuthToken = async (tokenState) => {
   if (tokenState?.token) return tokenState.token;
 
   try {
     const secure = await withTimeout(loadToken(), 1500, "loadToken");
     if (secure) return secure;
   } catch (error) {
     console.log("[auth] Failed to load secure token", error?.message || error);
@@ -317,73 +424,50 @@ function LandingScreen({ goToLogin, goToSignup }) {
             </TouchableOpacity>
 
             <TouchableOpacity
               style={styles.authSecondaryButton}
               onPress={goToSignup}
             >
               <Text style={styles.authSecondaryButtonText}>SIGN UP</Text>
             </TouchableOpacity>
           </View>
         </View>
       );
     }
 
 // ðŸ”¹ Dedicated login screen component
 function LoginScreen({
   setToken,
   setIsAdmin,
   goToSignup,
   goToForgot,
   goBack,
   showFlash,
 }) {
   const [email, setEmail] = useState("");
   const [password, setPassword] = useState("");
   const [loading, setLoading] = useState(false);
-  const [loginSecure, setLoginSecure] = useState(true);
-  const loginSecureTimeoutRef = useRef(null);
-
-  useEffect(() => {
-    return () => {
-      if (loginSecureTimeoutRef.current) {
-        clearTimeout(loginSecureTimeoutRef.current);
-      }
-    };
-  }, []);
-
-  const handleLoginPasswordChange = (value) => {
-    setPassword(value);
-    if (Platform.OS !== "android") return;
-
-    setLoginSecure(false);
-    if (loginSecureTimeoutRef.current) {
-      clearTimeout(loginSecureTimeoutRef.current);
-    }
-    loginSecureTimeoutRef.current = setTimeout(() => {
-      setLoginSecure(true);
-    }, 600);
-  };
 
 
   const login = async () => {
     const trimmedEmail = email.trim();
     const normalizedEmail = trimmedEmail.toLowerCase();
 
     if (!trimmedEmail || !isValidEmail(trimmedEmail)) {
       if (showFlash) {
         showFlash("error", "Please enter a valid email address");
       } else {
         Alert.alert("Error", "Please enter a valid email address");
       }
       return;
   }
 
   setLoading(true);
 
     try {
       const body = new URLSearchParams({
         username: normalizedEmail,
         password: password,
       }).toString();
 
     const res = await axios.post(`${API}/auth/login`, body, {
         headers: {
@@ -451,69 +535,62 @@ return (
 
     >
       <ScrollView
         contentContainerStyle={styles.scrollContent}
         keyboardShouldPersistTaps="handled"
       >
         <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
           <View style={styles.container}>
             <View style={styles.logoWrapper}>
               <Image
                 source={BookitGYLogoTransparent}
                 style={styles.logo}
               />
             </View>
         <Text style={styles.title}>Login</Text>
 
         <TextInput
           style={styles.input}
           placeholder="Email"
           placeholderTextColor={styles.inputPlaceholder.color}
           value={email}
           autoCapitalize="none"
           onChangeText={setEmail}
         />
 
-        <TextInput
-          style={[
-            styles.input,
-            Platform.OS === "android" && { includeFontPadding: false },
-            { fontFamily: "sans-serif" },
-          ]}
+        <AndroidPasswordInput
+          style={[styles.input, Platform.OS === "android" && { includeFontPadding: false }]}
           placeholder="Password"
           placeholderTextColor={styles.inputPlaceholder.color}
           value={password}
-          onChangeText={handleLoginPasswordChange}
-          autoCapitalize="none"
-          autoCorrect={false}
+          onChangeText={setPassword}
           autoComplete="password"
-          {...(Platform.OS === "ios" ? { textContentType: "password" } : {})}
+          textContentType="password"
           importantForAutofill="yes"
           underlineColorAndroid="transparent"
           selectionColor="#16a34a"
           cursorColor="#16a34a"
-          secureTextEntry={loginSecure}
         />
 
           {goToSignup && (
             <View style={{ width: "100%", marginBottom: 10 }}>
                {loading ? (
                 <ActivityIndicator size="large" color="#16a34a" />
               ) : (
                 <Button title="Login" onPress={login} color="#16a34a" />
               )}
             </View>
           )}
 
           {goToForgot && (
             <TouchableOpacity onPress={goToForgot} style={styles.forgotLink}>
               <Text style={styles.forgotLinkText}>Forgot password?</Text>
             </TouchableOpacity>
           )}
 
             {goToSignup && (
               <View style={{ width: "100%", marginBottom: 10 }}>
                 <Button
                   title="Need an account? Sign Up"
                   onPress={goToSignup}
                   color="#166534"
                 />
@@ -640,109 +717,68 @@ function ForgotPasswordScreen({ goToLogin, goBack, showFlash }) {
               </View>
             )}
 
             {goBack && (
               <View style={{ width: "100%" }}>
                 <Button title="Back" onPress={goBack} color="#6b7280" />
               </View>
             )}
           </View>
         </TouchableWithoutFeedback>
       </ScrollView>
     </KeyboardAvoidingView>
   );
 }
 
 
 
 
 function SignupScreen({ goToLogin, goBack, showFlash }) {
   const [email, setEmail] = useState("");
   const [password, setPassword] = useState("");
   const [confirmPassword, setConfirmPassword] = useState("");
   const [username, setUsername] = useState("");
   const [phone, setPhone] = useState("");
   const [isProvider, setIsProvider] = useState(false); // ðŸ‘ˆ new
-  const [signupSecure, setSignupSecure] = useState(true);
-  const [confirmSecure, setConfirmSecure] = useState(true);
-  const signupSecureTimeoutRef = useRef(null);
-  const confirmSecureTimeoutRef = useRef(null);
   const keyboardWrapperProps = {
     behavior: Platform.OS === "ios" ? "padding" : "height",
     keyboardVerticalOffset: Platform.OS === "ios" ? 40 : 0,
   };
   const passwordInputProps = Platform.select({
     ios: {
       autoComplete: "new-password",
       importantForAutofill: "yes",
     },
     android: {
       autoComplete: "new-password",
-      importantForAutofill: "no",
+      importantForAutofill: "yes",
     },
     default: {
       autoComplete: "new-password",
     },
   });
 
-  useEffect(() => {
-    return () => {
-      if (signupSecureTimeoutRef.current) {
-        clearTimeout(signupSecureTimeoutRef.current);
-      }
-      if (confirmSecureTimeoutRef.current) {
-        clearTimeout(confirmSecureTimeoutRef.current);
-      }
-    };
-  }, []);
-
-  const handleSignupPasswordChange = (value) => {
-    setPassword(value);
-    if (Platform.OS !== "android") return;
-
-    setSignupSecure(false);
-    if (signupSecureTimeoutRef.current) {
-      clearTimeout(signupSecureTimeoutRef.current);
-    }
-    signupSecureTimeoutRef.current = setTimeout(() => {
-      setSignupSecure(true);
-    }, 600);
-  };
-
-  const handleConfirmPasswordChange = (value) => {
-    setConfirmPassword(value);
-    if (Platform.OS !== "android") return;
-
-    setConfirmSecure(false);
-    if (confirmSecureTimeoutRef.current) {
-      clearTimeout(confirmSecureTimeoutRef.current);
-    }
-    confirmSecureTimeoutRef.current = setTimeout(() => {
-      setConfirmSecure(true);
-    }, 600);
-  };
-
   const signupValidation = useMemo(() => {
     const errors = {};
     const trimmedUsername = username.trim();
     const trimmedEmail = email.trim();
     const trimmedPhone = phone.trim();
     const trimmedPassword = password.trim();
     const trimmedConfirm = confirmPassword.trim();
 
     if (!trimmedUsername) errors.username = "Username is required";
     if (!trimmedEmail) {
       errors.email = "Email is required";
     } else if (!isValidEmail(trimmedEmail)) {
       errors.email = "Email is invalid";
     }
     if (!trimmedPhone) errors.phone = "Phone is required";
     if (trimmedPassword.length < 8) {
       errors.password = "Password must be at least 8 characters";
     }
     if (trimmedConfirm !== trimmedPassword) {
       errors.confirmPassword = "Passwords do not match";
     }
 
     return {
       errors,
       canSubmit: Object.keys(errors).length === 0,
@@ -889,101 +925,89 @@ function SignupScreen({ goToLogin, goBack, showFlash }) {
               onChangeText={setPhone}
               keyboardType="phone-pad"
             />
 
             {/* Provider toggle */}
             <Pressable
               style={({ pressed }) => [
                 styles.toggleCard,
                 pressed && styles.toggleCardPressed,
               ]}
               onPress={() => setIsProvider((prev) => !prev)}
               accessibilityRole="switch"
               accessibilityState={{ checked: isProvider }}
             >
               <View style={styles.toggleTextGroup}>
                 <Text style={styles.toggleLabel}>
                   Register as Service Provider
                 </Text>
                 <Text style={styles.toggleHelper}>
                   Turn this on if you offer services to clients.
                 </Text>
               </View>
               <Switch value={isProvider} onValueChange={setIsProvider} />
             </Pressable>
 
-            <TextInput
+            <AndroidPasswordInput
               style={[
                 styles.input,
                 signupValidation.errors.password ? styles.inputError : null,
                 Platform.OS === "android" && { includeFontPadding: false },
-                { fontFamily: "sans-serif" },
               ]}
               placeholder="Password"
               placeholderTextColor={styles.inputPlaceholder.color}
               value={password}
-              onChangeText={handleSignupPasswordChange}
-              autoCapitalize="none"
-              autoCorrect={false}
+              onChangeText={setPassword}
               spellCheck={false}
               {...passwordInputProps}
-              {...(Platform.OS === "ios"
-                ? { textContentType: "password" }
-                : {})}
+              textContentType="password"
               underlineColorAndroid="transparent"
               selectionColor="#16a34a"
               cursorColor="#16a34a"
-              secureTextEntry={signupSecure}
             />
             {signupValidation.errors.password && (
               <Text style={styles.inputErrorText}>
                 {signupValidation.errors.password}
               </Text>
             )}
 
-            <TextInput
+            <AndroidPasswordInput
               style={[
                 styles.input,
                 signupValidation.errors.confirmPassword ? styles.inputError : null,
                 Platform.OS === "android" && { includeFontPadding: false },
-                { fontFamily: "sans-serif" },
               ]}
               placeholder="Confirm Password"
               placeholderTextColor={styles.inputPlaceholder.color}
               value={confirmPassword}
-              onChangeText={handleConfirmPasswordChange}
-              autoCapitalize="none"
-              autoCorrect={false}
+              onChangeText={setConfirmPassword}
               spellCheck={false}
               {...passwordInputProps}
-              {...(Platform.OS === "ios"
-                ? { textContentType: "password" }
-                : {})}
+              textContentType="password"
               underlineColorAndroid="transparent"
               selectionColor="#16a34a"
               cursorColor="#16a34a"
-              secureTextEntry={confirmSecure}
             />
             {signupValidation.errors.confirmPassword && (
               <Text style={styles.inputErrorText}>
                 {signupValidation.errors.confirmPassword}
               </Text>
             )}
 
             <View style={{ width: "100%", marginBottom: 10 }}>
               <Button
                 title="Sign Up"
                 onPress={signup}
                 color="#16a34a"
                 disabled={!signupValidation.canSubmit}
               />
             </View>
 
             {goToLogin && (
               <View style={{ width: "100%", marginBottom: 10 }}>
                 <Button
                   title="Already have an account? Login"
                   onPress={goToLogin}
                   color="#166534"
                 />
               </View>
             )}
 
EOF
)