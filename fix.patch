 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/App.js b/mobile/App.js
index b55b109b43341ef9631765a4a57d13b0a117a2c6..4f8f7cdc963c0720c5dd09990098d5ad79adac72 100644
--- a/mobile/App.js
+++ b/mobile/App.js
@@ -6939,62 +6939,64 @@ function ProviderBillingScreen({ token, showFlash }) {
               </Text>
             </View>
               <View style={styles.billingTotalsRow}>
                 <Text style={styles.billingTotalsLabel}>Bill credits</Text>
                 <Text style={styles.billingTotalsValue}>
                   -{formatMoney(bill.bill_credits_gyd)}
                 </Text>
               </View>
             <View style={styles.billingTotalsRow}>
               <Text style={styles.billingTotalsLabel}>Total due</Text>
               <Text style={styles.billingTotalsValue}>
                 {formatMoney(bill.total_due_gyd)}
               </Text>
             </View>
           </View>
         )})}
     </ScrollView>
   );
 }
 
 
 function DayScheduleGrid({ events, startHour, endHour, renderEvent }) {
   const hourHeight = 145;
   const pxPerMinute = hourHeight / 60;
   const timeGutterWidth = 56;
+  const gridHorizontalPadding = 8;
   const gridVerticalPadding = 12;
   const startRaw = Number(startHour);
   const endRaw = Number(endHour);
   const gridStart = Number.isFinite(startRaw) ? startRaw : 0;
   const gridEndCandidate = Number.isFinite(endRaw) ? endRaw : 24;
   const gridStartClamped = Math.min(Math.max(gridStart, 0), 23);
   const gridEndClamped = Math.min(Math.max(gridEndCandidate, gridStartClamped + 1), 24);
   const totalHours = gridEndClamped - gridStartClamped;
   const totalHeight = totalHours * hourHeight;
   const trackHeight = totalHeight + gridVerticalPadding * 2;
   const contentHeight = trackHeight;
   const loggedRef = useRef(false);
+  const [gridWidth, setGridWidth] = useState(0);
 
   useEffect(() => {
     if (Platform.OS !== "android" || loggedRef.current) return;
     loggedRef.current = true;
     console.log("[DayScheduleGrid Android debug]", {
       startHour,
       endHour,
       gridStartClamped,
       gridEndClamped,
       totalHours,
       contentHeight,
     });
   }, [contentHeight, endHour, gridEndClamped, gridStartClamped, startHour, totalHours]);
 
   const hourTicks = useMemo(
     () => Array.from({ length: totalHours }, (_, idx) => gridStartClamped + idx),
     [gridStartClamped, totalHours]
   );
 
   const lineTicks = useMemo(
     () => Array.from({ length: totalHours + 1 }, (_, idx) => gridStartClamped + idx),
     [gridStartClamped, totalHours]
   );
 
   const formatHourLabel = useCallback((hour) => {
@@ -7007,119 +7009,135 @@ function DayScheduleGrid({ events, startHour, endHour, renderEvent }) {
   const visibleEvents = useMemo(
     () =>
       (events || []).filter((event) => {
         const rawStatus = String(event?.status?.type || event?.status || event?.state || "").trim().toLowerCase();
         return rawStatus !== "cancelled" && rawStatus !== "canceled";
       }),
     [events]
   );
 
   const positionedEvents = useMemo(() => {
     return visibleEvents
       .map((event) => {
         const startDate = event?.startDate || new Date(event?.start);
         const endDate = event?.endDate || new Date(event?.end);
         if (Number.isNaN(startDate.getTime()) || Number.isNaN(endDate.getTime())) return null;
 
         const gridStartMinutes = gridStartClamped * 60;
         const startMinutes = startDate.getHours() * 60 + startDate.getMinutes();
         const minutesFromStart = startMinutes - gridStartMinutes;
         const durationMinutes = Math.max(
           5,
           Math.round((endDate.getTime() - startDate.getTime()) / 60000)
         );
 
         const top = minutesFromStart * pxPerMinute + gridVerticalPadding;
-        const height = durationMinutes * pxPerMinute;
+        const height = Math.max(28, durationMinutes * pxPerMinute);
 
         return {
           ...event,
           top,
           height,
           durationMinutes,
         };
       })
       .filter((event) => event && event.top + event.height >= gridVerticalPadding && event.top <= trackHeight - gridVerticalPadding)
       .sort((a, b) => a.top - b.top);
   }, [gridStartClamped, gridVerticalPadding, pxPerMinute, trackHeight, visibleEvents]);
 
+  const timelineLeft = timeGutterWidth + gridHorizontalPadding;
+  const timelineWidth = Math.max(0, gridWidth - timeGutterWidth - gridHorizontalPadding * 2);
+
   return (
     <ScrollView
       style={styles.providerDayScheduleScroll}
       pointerEvents="auto"
       contentContainerStyle={[
         styles.providerDayScheduleScrollContent,
         Platform.OS === "android" ? { minHeight: contentHeight + gridVerticalPadding * 2 + 24 } : null,
         { paddingTop: gridVerticalPadding, paddingBottom: gridVerticalPadding + 24 },
       ]}
       showsVerticalScrollIndicator={false}
       bounces={false}
       alwaysBounceHorizontal={false}
       horizontal={false}
       nestedScrollEnabled={true}
       scrollEnabled={true}
       keyboardShouldPersistTaps="handled"
       contentInsetAdjustmentBehavior="never"
     >
-      <View style={styles.providerDayScheduleRow}>
+      <View
+        style={styles.providerDayScheduleRow}
+        onLayout={(event) => {
+          const width = Math.round(event?.nativeEvent?.layout?.width || 0);
+          if (width > 0 && width !== gridWidth) {
+            setGridWidth(width);
+          }
+        }}
+      >
         <View style={[styles.providerDayScheduleGutter, { width: timeGutterWidth, height: trackHeight }]}>
           {hourTicks.map((hour) => {
             const y = (hour - gridStartClamped) * hourHeight + gridVerticalPadding;
             return (
               <Text key={`label-${hour}`} style={[styles.providerDayScheduleTimeLabel, { top: y + hourHeight / 2 }]}>
                 {formatHourLabel(hour)}
               </Text>
             );
           })}
         </View>
 
         <View style={[styles.providerDayScheduleGrid, { height: trackHeight }]}>
           {lineTicks.map((hour) => {
             const y = (hour - gridStartClamped) * hourHeight + gridVerticalPadding;
             const hasHalfHour = hour < gridEndClamped;
             return (
               <React.Fragment key={`line-${hour}`}>
                 <View style={[styles.providerDayScheduleHourLine, { top: y }]} />
                 {hasHalfHour ? <View style={[styles.providerDayScheduleHalfHourLine, { top: y + hourHeight / 2 }]} /> : null}
               </React.Fragment>
             );
           })}
 
-          {positionedEvents.map((event) => (
-            <View
-              key={event.id}
-              style={[
-                styles.providerDayScheduleEvent,
-                {
-                  top: event.top,
-                  height: event.height,
-                },
-              ]}
-            >
-              {renderEvent ? renderEvent(event) : null}
-            </View>
-          ))}
+        </View>
+
+        <View pointerEvents="box-none" style={styles.providerDayScheduleEventsOverlay}>
+          {positionedEvents.map((event) => {
+            const timelinePositionStyle = {
+              position: "absolute",
+              top: event.top,
+              left: timelineLeft,
+              width: timelineWidth,
+              height: event.height,
+              overflow: "hidden",
+            };
+
+            return (
+              <View key={event.id} style={[styles.providerDayScheduleEvent, timelinePositionStyle]}>
+                {renderEvent ? renderEvent(event) : null}
+              </View>
+            );
+          })}
         </View>
       </View>
     </ScrollView>
   );
 }
 
 function WeeklyStrip({
   weekStartKey,
   selectedDate,
   onSelectDate,
   bookingsByDate,
   isBookingCompleted,
   colors,
   getWeekDays,
 }) {
   const weekDays = useMemo(() => getWeekDays(weekStartKey), [getWeekDays, weekStartKey]);
 
   const isBookingVisible = useCallback((booking) => {
     const normalizedStatus = String(booking?.status || booking?.state || "").trim().toLowerCase();
     return normalizedStatus !== "cancelled" && normalizedStatus !== "canceled";
   }, []);
 
   return (
     <View style={styles.providerWeeklyStrip}>
       <View style={styles.providerWeeklyRow}>
@@ -7712,117 +7730,115 @@ function ProviderCalendarScreen({ token, showFlash }) {
   const dayGridEvents = useMemo(
     () =>
       timelineEvents
         .map((event) => {
           const startDate = new Date(event.start);
           const endDate = new Date(event.end);
           if (Number.isNaN(startDate.getTime()) || Number.isNaN(endDate.getTime())) return null;
           return {
             ...event,
             startDate,
             endDate,
           };
         })
         .filter(Boolean),
     [timelineEvents]
   );
 
   const appointmentListData = viewMode === "day" ? [] : sortedSelectedBookings;
   const showAppointmentsEmptyState = viewMode !== "day";
   const getBookingCardKey = useCallback((booking) => {
     if (booking?.id != null) return String(booking.id);
     return `${booking?.booking_id || booking?.id || ""}-${booking?.start_time || booking?.start || ""}`;
   }, []);
 
   const ProviderBookingCard = useCallback(
-    ({ booking, startDate, endDate: _endDate, durationMinutes = 60, token: _token, showFlash: _showFlash }) => {
+    ({ booking, startDate, endDate: _endDate, compact = false, token: _token, showFlash: _showFlash }) => {
       const bookingId = getBookingId(booking);
       const status = getBookingStatusLabel(booking);
       const statusThemeKey = getAppointmentStatusThemeKey(status?.type || status?.label);
       const statusTheme = APPOINTMENT_STATUS_THEME[statusThemeKey];
       const completed = status.type === "completed";
       const isCancelling = !!(bookingId && cancellingByBookingId[bookingId]);
       const canCancel = isBookingCancellable(booking);
       const parsedStart = startDate instanceof Date
         ? startDate
         : (booking?.start_time ? new Date(booking.start_time) : (booking?.start ? new Date(booking.start) : null));
       const startLabel = parsedStart && !Number.isNaN(parsedStart.getTime())
         ? parsedStart.toLocaleTimeString([], {
             hour: "numeric",
             minute: "2-digit",
           })
         : "--:--";
-      const isShort = durationMinutes < 45;
-
       return (
         <View
           style={[
             styles.providerCalendarRow,
-            styles.providerCalendarRowTimeline,
-            isShort && styles.providerCalendarRowTimelineCompact,
             completed && styles.providerCalendarRowCompleted,
             { borderColor: statusTheme.border, backgroundColor: statusTheme.bgTint },
           ]}
         >
           <View style={[styles.providerCalendarLeftAccentBar, { backgroundColor: statusTheme.accent }]} />
           <View style={{ flex: 1 }}>
             <Text style={styles.providerCalendarTime}>{startLabel}</Text>
             <Text
               style={[
                 styles.providerCalendarService,
                 completed && styles.providerCalendarTextCompleted,
               ]}
             >
               {booking?.service_name || "Service"}
             </Text>
-            <Text
-              style={[
-                styles.providerCalendarCustomer,
-                completed && styles.providerCalendarTextCompleted,
-              ]}
-            >
-              {booking?.customer_name || "Customer"}
-            </Text>
+            {!compact ? (
+              <Text
+                style={[
+                  styles.providerCalendarCustomer,
+                  completed && styles.providerCalendarTextCompleted,
+                ]}
+              >
+                {booking?.customer_name || "Customer"}
+              </Text>
+            ) : null}
           </View>
           <View style={styles.providerCalendarRightActions}>
             <View
               style={[
                 styles.providerCalendarStatusBadge,
                 { borderColor: statusTheme.accent, backgroundColor: statusTheme.bgTint },
               ]}
             >
               <Text
                 style={[
                   styles.providerCalendarStatusText,
                   { color: statusTheme.accent },
                 ]}
                 numberOfLines={1}
               >
                 {status.label}
               </Text>
             </View>
-            {canCancel ? (
+            {canCancel && !compact ? (
               <TouchableOpacity
                 style={[
                   styles.providerCalendarCancelButton,
                   isCancelling && styles.providerCalendarCancelButtonDisabled,
                 ]}
                 onPress={() => handleCancelAppointment(booking)}
                 disabled={isCancelling}
               >
                 {isCancelling ? (
                   <View style={styles.providerCalendarCancelButtonLoadingRow}>
                     <ActivityIndicator size="small" color={colors.error} />
                     <Text style={styles.providerCalendarCancelButtonText}>Cancellingâ€¦</Text>
                   </View>
                 ) : (
                   <Text style={styles.providerCalendarCancelButtonText}>Cancel</Text>
                 )}
               </TouchableOpacity>
             ) : null}
           </View>
         </View>
       );
     },
     [
       cancellingByBookingId,
       getBookingId,
@@ -7994,51 +8010,51 @@ function ProviderCalendarScreen({ token, showFlash }) {
                                 weekStartKey={pageWeekStartKey}
                                 selectedDate={selectedDate}
                                 onSelectDate={(dayKey) => setSelectedDate(dayKey)}
                                 bookingsByDate={bookingsByDate}
                                 isBookingCompleted={isBookingCompleted}
                                 colors={colors}
                                 getWeekDays={getWeekDays}
                               />
                             </View>
                           ))}
                         </ScrollView>
                       ) : (
                         <View style={{ flex: 1 }} />
                       )}
                     </View>
                     <View style={styles.providerCalendarViewportDay}>
                       <DayScheduleGrid
                         events={dayGridEvents}
                         startHour={0}
                         endHour={24}
                         renderEvent={(event) => (
                           <ProviderBookingCard
                             booking={event.booking}
                             startDate={event.startDate}
                             endDate={event.endDate}
-                            durationMinutes={event.durationMinutes}
+                            compact={event.height < 60}
                             token={token}
                             showFlash={showFlash}
                           />
                         )}
                       />
                     </View>
                   </View>
                 )}
                 </View>
               </CalendarProvider>
 
               {loading ? <ActivityIndicator color={colors.primary} style={{ marginTop: 12 }} /> : null}
               {error ? <Text style={styles.errorText}>{error}</Text> : null}
               {viewMode !== "day" ? (
                 <>
                   <View style={{ height: 12 }} />
                   <View style={styles.providerCalendarHeaderBlock}>
                     <Text style={styles.sectionTitle}>Appointments for {selectedDate}</Text>
                   </View>
                 </>
               ) : null}
             </View>
           }
           ListEmptyComponent={
             showAppointmentsEmptyState ? (
@@ -10744,95 +10760,92 @@ signupTextButtonText: {
     overflow: "hidden",
   },
   providerCalendarDayStrip: {
     minHeight: 104,
     borderBottomWidth: 1,
     borderBottomColor: colors.border,
     backgroundColor: colors.surface,
   },
   providerCalendarViewportDay: {
     height: 500,
     backgroundColor: colors.surface,
     width: "100%",
     overflow: Platform.OS === "android" ? "visible" : "hidden",
   },
   providerDayScheduleScroll: {
     flex: 1,
     width: "100%",
     overflow: Platform.OS === "android" ? "visible" : "hidden",
   },
   providerDayScheduleScrollContent: {
     minWidth: "100%",
   },
   providerDayScheduleRow: {
     flexDirection: "row",
     width: "100%",
+    position: "relative",
   },
   providerDayScheduleGutter: {
     position: "relative",
     backgroundColor: colors.surface,
     borderRightWidth: 1,
     borderRightColor: "rgba(255,255,255,0.06)",
   },
   providerDayScheduleTimeLabel: {
     position: "absolute",
     left: 6,
     color: colors.textMuted,
     fontSize: 11,
     fontWeight: "600",
     transform: [{ translateY: -8 }],
   },
   providerDayScheduleGrid: {
     flex: 1,
     position: "relative",
     backgroundColor: colors.surface,
   },
   providerDayScheduleHourLine: {
     position: "absolute",
     left: 0,
     right: 0,
     borderTopWidth: 1,
     borderTopColor: "rgba(255,255,255,0.10)",
   },
   providerDayScheduleHalfHourLine: {
     position: "absolute",
     left: 0,
     right: 0,
     borderTopWidth: 1,
     borderTopColor: "rgba(255,255,255,0.05)",
   },
   providerDayScheduleEvent: {
-    position: "absolute",
-    left: 8,
-    right: 8,
     borderRadius: 12,
-    backgroundColor: colors.surfaceElevated,
-    borderWidth: 1,
-    borderColor: "rgba(255,255,255,0.08)",
     overflow: "hidden",
-    flexDirection: "row",
-    alignItems: "flex-start",
+  },
+  providerDayScheduleEventsOverlay: {
+    ...StyleSheet.absoluteFillObject,
+    pointerEvents: "box-none",
   },
   providerDayScheduleEventCompleted: {
     opacity: 0.6,
   },
   providerDayScheduleEventAccent: {
     width: 4,
     borderTopLeftRadius: 12,
     borderBottomLeftRadius: 12,
   },
   providerDayScheduleEventBody: {
     flex: 1,
     minWidth: 0,
     paddingHorizontal: 9,
     paddingVertical: 8,
   },
   providerDayScheduleEventTime: {
     color: colors.textSecondary,
     fontSize: 11,
     fontWeight: "600",
   },
   providerDayScheduleEventTitle: {
     color: colors.textPrimary,
     fontSize: 13,
     fontWeight: "700",
     marginTop: 2,
@@ -10875,58 +10888,50 @@ signupTextButtonText: {
     flexDirection: "row",
     alignItems: "center",
     justifyContent: "space-between",
     gap: 10,
   },
   providerCalendarListContent: {
     paddingBottom: 24,
   },
   providerCalendarEmpty: {
     color: colors.textMuted,
     marginTop: 10,
     fontSize: 14,
   },
   providerCalendarRow: {
     backgroundColor: colors.surface,
     borderColor: colors.border,
     borderWidth: 1,
     borderRadius: 10,
     paddingHorizontal: 12,
     paddingVertical: 14,
     marginBottom: 8,
     flexDirection: "row",
     alignItems: "flex-start",
     overflow: "hidden",
   },
-  providerCalendarRowTimeline: {
-    height: "100%",
-    marginBottom: 0,
-    paddingVertical: 12,
-  },
-  providerCalendarRowTimelineCompact: {
-    paddingVertical: 8,
-  },
   providerCalendarLeftAccentBar: {
     width: 4,
     borderRadius: 999,
     marginRight: 10,
     alignSelf: "stretch",
   },
   providerCalendarRowCompleted: {
     opacity: 0.75,
   },
   providerCalendarTime: {
     color: colors.textSecondary,
     fontSize: 12,
     marginBottom: 4,
   },
   providerCalendarService: {
     color: colors.textPrimary,
     fontSize: 15,
     fontWeight: "700",
   },
   providerCalendarCustomer: {
     color: colors.textSecondary,
     fontSize: 13,
     marginTop: 2,
   },
   providerCalendarTextCompleted: {
 
EOF
)