 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/App.js b/mobile/App.js
index 9102946209c3dca3ea063d1038ded75de6fa081b..900cbd447fc1496bb9eec16669ee204052cb7540 100644
--- a/mobile/App.js
+++ b/mobile/App.js
@@ -7476,72 +7476,73 @@ function ProviderCalendarScreen({ token, showFlash }) {
           },
         }
       );
 
       setBookingsByDate((prev) => {
         const next = { ...prev };
         Object.keys(next).forEach((dayKey) => {
           next[dayKey] = (next[dayKey] || []).map((item) =>
             getBookingId(item) === bookingId
               ? {
                   ...item,
                   status: "cancelled",
                   canceled_at: new Date().toISOString(),
                   canceled_by_role: "provider",
                 }
               : item
           );
         });
         return next;
       });
     },
     [getBookingId, token]
   );
 
   const handleCancelAppointment = useCallback(
-    (booking) => {
+    (booking, onCancelled) => {
       if (cancelAllLoading) return;
       const bookingId = getBookingId(booking);
       if (!bookingId || cancellingByBookingId[bookingId]) return;
 
       Alert.alert(
         "Cancel appointment?",
         "This will notify the customer.",
         [
           { text: "Keep", style: "cancel" },
           {
             text: "Cancel appointment",
             style: "destructive",
             onPress: async () => {
               if (cancellingByBookingId[bookingId]) return;
 
               setCancellingByBookingId((prev) => ({ ...prev, [bookingId]: true }));
               try {
                 await cancelBookingById(bookingId);
 
                 if (showFlash) showFlash("success", "Appointment cancelled");
                 await loadBookingsForRange();
+                if (typeof onCancelled === "function") onCancelled();
               } catch (err) {
                 const message =
                   err?.response?.data?.detail ||
                   err?.response?.data?.message ||
                   "Could not cancel appointment. Please try again.";
                 if (showFlash) showFlash("error", message);
               } finally {
                 setCancellingByBookingId((prev) => ({ ...prev, [bookingId]: false }));
               }
             },
           },
         ]
       );
     },
     [cancelAllLoading, cancelBookingById, cancellingByBookingId, getBookingId, loadBookingsForRange, showFlash]
   );
 
   useEffect(() => {
     loadBookingsForRange();
   }, [loadBookingsForRange]);
 
   const isActiveBooking = useCallback((booking) => {
     const normalizedStatus = String(booking?.status || booking?.state || "").trim().toLowerCase();
     return normalizedStatus !== "cancelled" && normalizedStatus !== "canceled";
   }, []);
@@ -7750,149 +7751,163 @@ function ProviderCalendarScreen({ token, showFlash }) {
     }
     console.log("[ProviderCalendarScreen][WeeklyDebug]", {
       selectedDate,
       selectedWeekday: selected.getDay(),
       firstDay: WEEKLY_FIRST_DAY,
     });
   }, [PROVIDER_CALENDAR_DEBUG, WEEKLY_FIRST_DAY, parseLocalMidday, selectedDate]);
 
   const dayGridEvents = useMemo(
     () =>
       timelineEvents
         .map((event) => {
           const startDate = new Date(event.start);
           const endDate = new Date(event.end);
           if (Number.isNaN(startDate.getTime()) || Number.isNaN(endDate.getTime())) return null;
           return {
             ...event,
             startDate,
             endDate,
           };
         })
         .filter(Boolean),
     [timelineEvents]
   );
 
-  const appointmentListData = viewMode !== "day" ? sortedSelectedBookings : [];
-  const showAppointmentsEmptyState = viewMode !== "day";
+  const appointmentListData = sortedSelectedBookings;
+  const showAppointmentsEmptyState = true;
+
+  const ProviderBookingCard = useCallback(
+    ({ booking, token: _token, showFlash: _showFlash, onCancelled }) => {
+      const bookingId = getBookingId(booking);
+      const status = getBookingStatusLabel(booking);
+      const statusThemeKey = getAppointmentStatusThemeKey(status?.type || status?.label);
+      const statusTheme = APPOINTMENT_STATUS_THEME[statusThemeKey];
+      const completed = status.type === "completed";
+      const isCancelling = !!(bookingId && cancellingByBookingId[bookingId]);
+      const canCancel = isBookingCancellable(booking);
+      const startIso = booking?.start_time || booking?.start;
+      const startLabel = startIso
+        ? new Date(startIso).toLocaleTimeString([], {
+            hour: "numeric",
+            minute: "2-digit",
+          })
+        : "--:--";
+
+      return (
+        <View
+          style={[
+            styles.providerCalendarRow,
+            completed && styles.providerCalendarRowCompleted,
+            { borderColor: statusTheme.border, backgroundColor: statusTheme.bgTint },
+          ]}
+        >
+          <View style={[styles.providerCalendarLeftAccentBar, { backgroundColor: statusTheme.accent }]} />
+          <View style={{ flex: 1 }}>
+            <Text style={styles.providerCalendarTime}>{startLabel}</Text>
+            <Text
+              style={[
+                styles.providerCalendarService,
+                completed && styles.providerCalendarTextCompleted,
+              ]}
+            >
+              {booking?.service_name || "Service"}
+            </Text>
+            <Text
+              style={[
+                styles.providerCalendarCustomer,
+                completed && styles.providerCalendarTextCompleted,
+              ]}
+            >
+              {booking?.customer_name || "Customer"}
+            </Text>
+          </View>
+          <View style={styles.providerCalendarRightActions}>
+            <View
+              style={[
+                styles.providerCalendarStatusBadge,
+                { borderColor: statusTheme.accent, backgroundColor: statusTheme.bgTint },
+              ]}
+            >
+              <Text
+                style={[
+                  styles.providerCalendarStatusText,
+                  { color: statusTheme.accent },
+                ]}
+                numberOfLines={1}
+              >
+                {status.label}
+              </Text>
+            </View>
+            {canCancel ? (
+              <TouchableOpacity
+                style={[
+                  styles.providerCalendarCancelButton,
+                  isCancelling && styles.providerCalendarCancelButtonDisabled,
+                ]}
+                onPress={() => handleCancelAppointment(booking, onCancelled)}
+                disabled={isCancelling}
+              >
+                {isCancelling ? (
+                  <View style={styles.providerCalendarCancelButtonLoadingRow}>
+                    <ActivityIndicator size="small" color={colors.error} />
+                    <Text style={styles.providerCalendarCancelButtonText}>Cancelling…</Text>
+                  </View>
+                ) : (
+                  <Text style={styles.providerCalendarCancelButtonText}>Cancel</Text>
+                )}
+              </TouchableOpacity>
+            ) : null}
+          </View>
+        </View>
+      );
+    },
+    [
+      cancellingByBookingId,
+      getBookingId,
+      getBookingStatusLabel,
+      handleCancelAppointment,
+      isBookingCancellable,
+    ]
+  );
 
   return (
     <SafeAreaView style={styles.providerCalendarScreen} edges={["left", "right", "bottom"]}>
       <View style={styles.providerCalendarContentContainer}>
         <FlatList
           data={appointmentListData}
           keyExtractor={(booking) =>
             getBookingId(booking) || `${booking?.start_time || booking?.start}-${booking?.service_name || "service"}`
           }
-          renderItem={({ item: booking }) => {
-            const bookingId = getBookingId(booking);
-            const status = getBookingStatusLabel(booking);
-            // status color mapping
-            const statusThemeKey = getAppointmentStatusThemeKey(status?.type || status?.label);
-            const statusTheme = APPOINTMENT_STATUS_THEME[statusThemeKey];
-            const completed = status.type === "completed";
-            const isCancelling = !!(bookingId && cancellingByBookingId[bookingId]);
-            const canCancel = isBookingCancellable(booking);
-            const startIso = booking?.start_time || booking?.start;
-            const startLabel = startIso
-              ? new Date(startIso).toLocaleTimeString([], {
-                  hour: "numeric",
-                  minute: "2-digit",
-                })
-              : "--:--";
-
-            return (
-              <View
-                style={[
-                  styles.providerCalendarRow,
-                  completed && styles.providerCalendarRowCompleted,
-                  // tint based on status
-                  { borderColor: statusTheme.border, backgroundColor: statusTheme.bgTint },
-                ]}
-              >
-                {/* left accent bar */}
-                <View style={[styles.providerCalendarLeftAccentBar, { backgroundColor: statusTheme.accent }]} />
-                <View style={{ flex: 1 }}>
-                  <Text style={styles.providerCalendarTime}>{startLabel}</Text>
-                  <Text
-                    style={[
-                      styles.providerCalendarService,
-                      completed && styles.providerCalendarTextCompleted,
-                    ]}
-                  >
-                    {booking?.service_name || "Service"}
-                  </Text>
-                  <Text
-                    style={[
-                      styles.providerCalendarCustomer,
-                      completed && styles.providerCalendarTextCompleted,
-                    ]}
-                  >
-                    {booking?.customer_name || "Customer"}
-                  </Text>
-                </View>
-                <View style={styles.providerCalendarRightActions}>
-                  <View
-                    style={[
-                      styles.providerCalendarStatusBadge,
-                      // tint based on status
-                      { borderColor: statusTheme.accent, backgroundColor: statusTheme.bgTint },
-                    ]}
-                  >
-                    <Text
-                      style={[
-                        styles.providerCalendarStatusText,
-                        { color: statusTheme.accent },
-                      ]}
-                      numberOfLines={1}
-                    >
-                      {status.label}
-                    </Text>
-                  </View>
-                  {canCancel ? (
-                    <TouchableOpacity
-                      style={[
-                        styles.providerCalendarCancelButton,
-                        isCancelling && styles.providerCalendarCancelButtonDisabled,
-                      ]}
-                      onPress={() => handleCancelAppointment(booking)}
-                      disabled={isCancelling}
-                    >
-                      {isCancelling ? (
-                        <View style={styles.providerCalendarCancelButtonLoadingRow}>
-                          <ActivityIndicator size="small" color={colors.error} />
-                          <Text style={styles.providerCalendarCancelButtonText}>Cancelling…</Text>
-                        </View>
-                      ) : (
-                        <Text style={styles.providerCalendarCancelButtonText}>Cancel</Text>
-                      )}
-                    </TouchableOpacity>
-                  ) : null}
-                </View>
-              </View>
-            );
-          }}
+          renderItem={({ item: booking }) => (
+            <ProviderBookingCard
+              booking={booking}
+              token={token}
+              showFlash={showFlash}
+              onCancelled={loadBookingsForRange}
+            />
+          )}
           ListHeaderComponent={
             <View style={{ backgroundColor: colors.background }}>
               <View style={styles.providerCalendarModeSwitch}>
                 {[
                   { key: "day", label: "Daily" },
                   { key: "week", label: "Weekly" },
                   { key: "month", label: "Monthly" },
                 ].map((mode) => {
                   const active = mode.key === viewMode;
                   return (
                     <TouchableOpacity
                       key={mode.key}
                       style={[
                         styles.providerCalendarModeButton,
                         active && styles.providerCalendarModeButtonActive,
                       ]}
                       onPress={() => setViewMode(mode.key)}
                     >
                       <Text
                         style={[
                           styles.providerCalendarModeText,
                           active && styles.providerCalendarModeTextActive,
                         ]}
                       >
                         {mode.label}
 
EOF
)