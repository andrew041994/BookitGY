 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/frontend/src/main.jsx b/frontend/src/main.jsx
index 0d6707c697405c6a88e028d42130f753ab6ae75e..ab938c9ada5ad6d8cf1f70674944bb10b9b9f786 100644
--- a/frontend/src/main.jsx
+++ b/frontend/src/main.jsx
@@ -729,60 +729,68 @@ function App() {
         setError('Missing account number for provider; billing rows must include account_number')
         console.error('Missing account number for provider suspension request.')
         return
       }
 
       if (suspendingByAccountNumber[accountNumber]) return
 
       if (import.meta.env?.DEV) {
         console.log('[billing] toggle suspend click', {
           accountNumber,
           currentSuspended: !shouldSuspend,
           nextSuspended: shouldSuspend,
         })
         console.log('[billing] POST', '/admin/providers/suspension')
       }
 
       setSuspendingByAccountNumber((prev) => ({ ...prev, [accountNumber]: true }))
 
       try {
         const res = await apiClient.post('/admin/providers/suspension', {
           account_number: accountNumber,
           is_suspended: shouldSuspend,
         })
         const responsePayload = res?.data
         const hasServerSuspensionValue = typeof responsePayload?.is_suspended === 'boolean'
+        const hasServerLockValue = typeof responsePayload?.is_locked === 'boolean'
         const nextSuspended = hasServerSuspensionValue ? responsePayload.is_suspended : shouldSuspend
+        const nextLocked = hasServerLockValue ? responsePayload.is_locked : null
 
         if (import.meta.env?.DEV) {
           console.log('[billing] OK', res.status, res.data)
         }
 
         setBillingRows((prev) =>
           prev.map((row) =>
             row.account_number === accountNumber
-              ? { ...row, is_suspended: nextSuspended }
+              ? {
+                ...row,
+                is_suspended: nextSuspended,
+                isSuspended: nextSuspended,
+                is_locked: nextLocked === null ? row.is_locked : nextLocked,
+                isLocked: nextLocked === null ? !!(row.is_locked ?? row.isLocked) : nextLocked,
+              }
               : row
           )
         )
 
         if (!hasServerSuspensionValue) {
           await fetchBillingRows()
         }
       } catch (err) {
         logApiError(err)
         setError(
           err?.response?.data?.detail
             || err?.response?.data?.message
             || 'Failed to update provider account status.'
         )
       } finally {
         setSuspendingByAccountNumber((prev) => {
           const next = { ...prev }
           delete next[accountNumber]
           return next
         })
       }
     }
 
 
     const normalizedSearch = searchTerm.trim().toLowerCase()
@@ -920,54 +928,54 @@ function App() {
                 <div>
                   <p className="billing-provider">{row.name || 'Unnamed provider'}</p>
                   <p className="muted">ID #{row.provider_id}</p>
                 </div>
                 <strong>{row.account_number || 'N/A'}</strong>
                 <span>{row.phone || 'No phone added'}</span>
                 <strong>{formatAmount(row.amount_due_gyd)} GYD</strong>
                 <strong>{formatAmount(row.bill_credits_gyd)} GYD</strong>
                 <span>{formatDueDate(row.last_due_date)}</span>
                 <span className={row.is_paid ? 'status-pill paid' : 'status-pill unpaid'}>
                   {row.is_paid ? 'Paid' : 'Unpaid'}
                 </span>
                 <span className={isBlocked ? 'status-pill unpaid' : 'status-pill paid'}>
                   {isBlocked ? 'Suspended' : 'Active'}
                 </span>
                 <div className="billing-actions">
                   <button
                     className={row.is_paid ? 'ghost-btn' : 'primary-btn'}
                     onClick={() => markProviderPaid(accountNumber)}
                     disabled={loading || isPaying || row.is_paid}
                   >
                     {row.is_paid ? 'Paid' : 'Mark as paid'}
                   </button>
                   <button
                     className={isBlocked ? 'primary-btn' : 'ghost-btn'}
-                    onClick={() => toggleProviderSuspension(accountNumber, !isSuspended)}
+                    onClick={() => toggleProviderSuspension(accountNumber, !isBlocked)}
                     disabled={isSuspensionLoading}
                   >
-                    {isSuspended ? 'Reactivate account' : 'Suspend account'}
+                    {isBlocked ? 'Reactivate account' : 'Suspend account'}
                   </button>
                 </div>
               </div>
             )})}
 
             {showNoMatches && (
               <p className="muted">No providers match your current filters.</p>
             )}
 
             {showEmptyState && (
               <p className="muted">No providers match that account or phone.</p>
             )}
           </div>
         </div>
       </div>
     )
   }
 
   const AdminProviderLocations = () => {
     const mapRef = React.useRef(null)
     const mapContainerRef = React.useRef(null)
     const markersLayerRef = React.useRef(null)
     const [providers, setProviders] = React.useState([])
     const [loading, setLoading] = React.useState(false)
     const [error, setError] = React.useState('')
 
EOF
)