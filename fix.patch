 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/App.js b/mobile/App.js
index 126c4837736f627d16c9c3753b49696524e51789..81be0e080bb228b4fdd91134212f8bab023b9472 100644
--- a/mobile/App.js
+++ b/mobile/App.js
@@ -6061,50 +6061,52 @@ function FlashMessage({ flash }) {
 
   const isError = flash.type === "error";
 
   const backgroundColor = isError ? colors.error : colors.success;
   const borderColor = isError ? colors.error : colors.primaryPressed;
   const textColor = colors.textPrimary;
 
   return (
 
     <View
       style={[
         styles.flashContainer,
         { backgroundColor, borderColor },
       ]}
     >
       <Text style={[styles.flashText, { color: textColor }]}>
         {flash.text}
       </Text>
     </View>
   );
 }
 
 
 // ðŸ”¹ App orchestrates landing/login/signup/forgot-password vs main app
 
+const DEEPLINK_DEBUG = true;
+
 function App() {
 
   const mountIdRef = useRef(Math.random().toString(16).slice(2));
   console.log("APP MOUNT ID:", mountIdRef.current);
   useEffect(() => console.log("APP useEffect ran for mount", mountIdRef.current), []);
 
   const [token, setToken] = useState(null);
   const [authLoading, setAuthLoading] = useState(true);
   const [authMode, setAuthMode] = useState("landing"); // 'landing' | 'login' | 'signup' | 'forgot'
   const [isAdmin, setIsAdmin] = useState(false);
   const [pendingDeepLinkUsername, setPendingDeepLinkUsername] = useState(null);
   const [navReady, setNavReady] = useState(false);
   const navReadyRef = useRef(false);
   const navigationRef = useRef(null);
   const authBootstrapRef = useRef({ inFlight: false, completed: false });
   const tokenRef = useRef(token);
   const lastHandledUrlRef = useRef(null);
 
   const [flash, setFlash] = useState(null);
   const handleUnauthorized = useCallback(async () => {
     try {
       await AsyncStorage.removeItem(LEGACY_ACCESS_TOKEN_KEY);
     } catch (storageError) {
       console.log(
         "[auth] Failed to clear legacy token",
@@ -6158,103 +6160,115 @@ function App() {
 
     return String(text);
   }, []);
 
   const showFlash = useCallback((type, text) => {
     setFlash({ type, text: formatFlashText(text) });
     setTimeout(() => {
       setFlash(null);
     }, 4500);
   }, [formatFlashText]);
 
   useEffect(() => {
     tokenRef.current = token;
   }, [token]);
 
   useEffect(() => {
     navReadyRef.current = navReady;
   }, [navReady]);
 
   useEffect(() => {
     if (!token) setNavReady(false);
   }, [token]);
 
   const handleIncomingUrl = useCallback((url, source) => {
     console.log("[deeplink] handleIncomingUrl", source, url);
+    if (DEEPLINK_DEBUG) showFlash("info", `[DL] ${source}: ${url || "(null)"}`);
     const username = extractUsernameFromUrl(url);
     console.log("[deeplink] extracted username", username);
-    if (!username) return false;
+    if (!username) {
+      if (DEEPLINK_DEBUG) showFlash("error", "[DL] parse failed");
+      return false;
+    }
+    if (DEEPLINK_DEBUG) showFlash("success", `[DL] user: ${username}`);
     if (url) {
       lastHandledUrlRef.current = url;
     }
 
     if (tokenRef.current?.isProvider === true) {
       showFlash("error", "Open as a client to view provider links.");
       return true;
     }
 
     if (
       tokenRef.current &&
       tokenRef.current.isProvider === false &&
       navReadyRef.current === true &&
       navigationRef.current
     ) {
+      if (DEEPLINK_DEBUG) showFlash("success", `[DL] nav Search: ${username}`);
       navigateToClientSearch(username, navigationRef);
       setPendingDeepLinkUsername(null);
       return true;
     }
 
     setPendingDeepLinkUsername({ username, nonce: Date.now() });
     return true;
   }, [showFlash]);
 
   useEffect(() => {
     let isActive = true;
 
     Linking.getInitialURL().then((url) => {
       if (!isActive) return;
       console.log("[deeplink] getInitialURL", url);
+      if (DEEPLINK_DEBUG) {
+        showFlash("info", `[DL] getInitialURL: ${url || "(null)"}`);
+      }
       if (url && url !== lastHandledUrlRef.current) {
         handleIncomingUrl(url, "initial");
       }
     });
 
     const sub = Linking.addEventListener("url", ({ url }) => {
       handleIncomingUrl(url, "event");
     });
 
     return () => {
       isActive = false;
       sub.remove();
     };
   }, [handleIncomingUrl]);
 
   useEffect(() => {
     const sub = AppState.addEventListener("change", (nextState) => {
       if (nextState !== "active") return;
       Linking.getInitialURL().then((url) => {
         console.log("[deeplink] getInitialURL (active)", url);
+        if (DEEPLINK_DEBUG) {
+          showFlash("info", `[DL] getInitialURL(active): ${url || "(null)"}`);
+        }
         if (!url || url === lastHandledUrlRef.current) return;
         handleIncomingUrl(url, "appstate-active");
       });
     });
 
     return () => {
       sub.remove();
     };
   }, [handleIncomingUrl]);
 
   useEffect(() => {
     if (!pendingDeepLinkUsername) return;
     if (!token) return;
     if (token.isProvider) {
       showFlash("error", "Open as a client to view provider links.");
       setPendingDeepLinkUsername(null);
       return;
     }
     if (!navReady) return;
     if (!navigationRef.current) return;
 
     const ok = navigateToClientSearch(
       pendingDeepLinkUsername.username,
       navigationRef
     );
 
EOF
)