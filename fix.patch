 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/App.js b/mobile/App.js
index 62ebac929ce94df0fa51b6d68783dfaf0da6ada2..f0f61959d95ae47e88dc50fafd12cdf688598aa2 100644
--- a/mobile/App.js
+++ b/mobile/App.js
@@ -132,60 +132,61 @@ const getDistanceKm = (lat1, lon1, lat2, lon2) => {
   const R = 6371;
   const dLat = toRad(lat2 - lat1);
   const dLon = toRad(lon2 - lon1);
   const a =
     Math.sin(dLat / 2) * Math.sin(dLat / 2) +
     Math.cos(toRad(lat1)) *
       Math.cos(toRad(lat2)) *
       Math.sin(dLon / 2) *
       Math.sin(dLon / 2);
   const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
   const distance = R * c;
   return Number.isFinite(distance) ? distance : null;
 };
 
 const getProviderCoords = (provider) => {
   const location = provider?.location;
   const pinnedLocation = provider?.pinned_location ?? provider?.pinnedLocation;
   const coords = provider?.coords;
   const getCoordsFrom = (source) => {
     const lat = toNum(source?.lat ?? source?.latitude);
     const lng = toNum(source?.long ?? source?.lng ?? source?.longitude);
     if (lat == null || lng == null) return null;
     return { lat, lng };
   };
 
-  const fromUser = getCoordsFrom(provider?.user);
-  if (fromUser) return fromUser;
+  const fromPinned = getCoordsFrom(pinnedLocation);
+  if (fromPinned) return fromPinned;
+
+  const fromLocation = getCoordsFrom(location);
+  if (fromLocation) return fromLocation;
 
   const fromProvider = getCoordsFrom(provider);
   if (fromProvider) return fromProvider;
 
-  const fromLocation = getCoordsFrom(location);
-  if (fromLocation) return fromLocation;
-  const fromPinned = getCoordsFrom(pinnedLocation);
-  if (fromPinned) return fromPinned;
+  const fromUser = getCoordsFrom(provider?.user);
+  if (fromUser) return fromUser;
   const fromCoords = getCoordsFrom(coords);
   if (fromCoords) return fromCoords;
 
   const legacyLat = toNum(
     provider?.pinned_lat ??
       provider?.pinnedLatitude ??
       provider?.location_lat ??
       provider?.locationLat
   );
   const legacyLng = toNum(
     provider?.pinned_long ??
       provider?.pinned_lng ??
       provider?.pinnedLongitude ??
       provider?.location_lng ??
       provider?.locationLng ??
       provider?.lon
   );
   if (legacyLat != null && legacyLng != null) {
     return { lat: legacyLat, lng: legacyLng };
   }
 
   return null;
 };
 
 const LEGACY_ACCESS_TOKEN_KEY = "accessToken";
 
EOF
)