 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/App.js b/mobile/App.js
index 6f0bc972e6e30f66c3e87da91cd58ef3eb6e5523..e154ac85c90e90e3a7195ef05e0693b53ec6be23 100644
--- a/mobile/App.js
+++ b/mobile/App.js
@@ -6600,91 +6600,106 @@ function DayScheduleGrid({ events, startHour, endHour }) {
         <View style={[styles.providerDayScheduleGutter, { width: timeGutterWidth, height: trackHeight }]}>
           {hourTicks.map((hour) => {
             const y = (hour - gridStartClamped) * hourHeight + gridVerticalPadding;
             return (
               <Text key={`label-${hour}`} style={[styles.providerDayScheduleTimeLabel, { top: y + hourHeight / 2 }]}>
                 {formatHourLabel(hour)}
               </Text>
             );
           })}
         </View>
 
         <View style={[styles.providerDayScheduleGrid, { height: trackHeight }]}>
           {lineTicks.map((hour) => {
             const y = (hour - gridStartClamped) * hourHeight + gridVerticalPadding;
             const hasHalfHour = hour < gridEndClamped;
             return (
               <React.Fragment key={`line-${hour}`}>
                 <View style={[styles.providerDayScheduleHourLine, { top: y }]} />
                 {hasHalfHour ? <View style={[styles.providerDayScheduleHalfHourLine, { top: y + hourHeight / 2 }]} /> : null}
               </React.Fragment>
             );
           })}
 
           {positionedEvents.map((event) => {
             const completed = Boolean(event?.completed);
+            const statusType = event?.status?.type || "scheduled";
+            const statusLabel = event?.status?.label || "Scheduled";
             return (
               <TouchableOpacity
                 key={event.id}
                 activeOpacity={0.9}
                 style={[
                   styles.providerDayScheduleEvent,
                   completed && styles.providerDayScheduleEventCompleted,
                   {
                     top: event.top,
                     height: event.height,
                   },
                 ]}
                 onPress={() => {
                   Alert.alert(
                     event?.title || "Appointment",
                     `${event?.summary || "Customer"}\n${event?.startLabel || "--:--"}`
                   );
                 }}
               >
                 <View
                   style={[
                     styles.providerDayScheduleEventAccent,
                     { backgroundColor: event?.accentColor || colors.primary },
                   ]}
                 />
                 <View style={styles.providerDayScheduleEventBody}>
                   <Text style={styles.providerDayScheduleEventTime} numberOfLines={1} ellipsizeMode="tail">
                     {event?.startLabel || "--:--"}
                   </Text>
                   <Text style={styles.providerDayScheduleEventTitle} numberOfLines={1} ellipsizeMode="tail">
                     {event?.title || "Service"}
                   </Text>
                   <Text style={styles.providerDayScheduleEventSummary} numberOfLines={1} ellipsizeMode="tail">
                     {event?.summary || "Customer"}
                   </Text>
                 </View>
-                {completed ? (
-                  <View style={styles.providerDayScheduleCompletedBadge}>
-                    <Text style={styles.providerDayScheduleCompletedText}>Completed</Text>
-                  </View>
-                ) : null}
+                <View
+                  style={[
+                    styles.providerDayScheduleStatusBadge,
+                    statusType === "cancelled" && styles.providerDayScheduleStatusBadgeCancelled,
+                    statusType === "completed" && styles.providerDayScheduleStatusBadgeCompleted,
+                  ]}
+                >
+                  <Text
+                    style={[
+                      styles.providerDayScheduleStatusText,
+                      statusType === "cancelled" && styles.providerDayScheduleStatusTextCancelled,
+                      statusType === "completed" && styles.providerDayScheduleStatusTextCompleted,
+                    ]}
+                    numberOfLines={1}
+                  >
+                    {statusLabel}
+                  </Text>
+                </View>
               </TouchableOpacity>
             );
           })}
         </View>
       </View>
     </ScrollView>
   );
 }
 
 function WeeklyStrip({
   weekStartKey,
   selectedDate,
   onSelectDate,
   bookingsByDate,
   isBookingCompleted,
   colors,
   getWeekDays,
 }) {
   const weekDays = useMemo(() => getWeekDays(weekStartKey), [getWeekDays, weekStartKey]);
 
   return (
     <View style={styles.providerWeeklyStrip}>
       <View style={styles.providerWeeklyRow}>
         {weekDays.map((day) => {
           const bookings = bookingsByDate?.[day.key] || [];
@@ -6858,50 +6873,76 @@ function ProviderCalendarScreen({ token, showFlash }) {
     const nextSelectedDate = addDaysKey(selectedDate, deltaWeeks * 7);
     if (nextSelectedDate) {
       setSelectedDate(nextSelectedDate);
     }
     if (weekPagerRef.current) {
       weekPagerRef.current.scrollTo({ x: weekPagerWidth, animated: false });
     }
   }, [addDaysKey, selectedDate, weekPagerWidth]);
 
   const isBookingCompleted = useCallback((booking) => {
     const now = Date.now();
     const endTime = booking?.end_time || booking?.end;
     if (endTime) {
       const endMs = new Date(endTime).getTime();
       return Number.isFinite(endMs) && endMs < now;
     }
 
     const startTime = booking?.start_time || booking?.start;
     const durationMin = Number(booking?.duration_minutes || booking?.duration || 0);
     if (!startTime) return false;
     const startMs = new Date(startTime).getTime();
     if (!Number.isFinite(startMs)) return false;
     return startMs + Math.max(durationMin, 0) * 60_000 < now;
   }, []);
 
+  const getBookingStatusLabel = useCallback((booking) => {
+    const normalizedStatus = String(booking?.status || booking?.state || "")
+      .trim()
+      .toLowerCase();
+
+    const isCancelled =
+      normalizedStatus === "cancelled" ||
+      normalizedStatus === "canceled" ||
+      Boolean(booking?.cancelled_at || booking?.canceled_at || booking?.is_cancelled || booking?.isCanceled);
+
+    if (isCancelled) {
+      return { type: "cancelled", label: "Cancelled" };
+    }
+
+    const isCompleted =
+      normalizedStatus === "completed" ||
+      Boolean(booking?.completed_at || booking?.is_completed) ||
+      isBookingCompleted(booking);
+
+    if (isCompleted) {
+      return { type: "completed", label: "Completed" };
+    }
+
+    return { type: "scheduled", label: "Scheduled" };
+  }, [isBookingCompleted]);
+
   const loadBookingsForRange = useCallback(async () => {
     try {
       setLoading(true);
       setError("");
 
       const authToken = await getAuthToken(token);
       if (!authToken) {
         setError("No access token found. Please log in again.");
         return;
       }
 
       const res = await axios.get(`${API}/providers/me/bookings`, {
         headers: {
           Authorization: `Bearer ${authToken}`,
         },
         params: {
           start: dateRange.start,
           end: dateRange.end,
         },
       });
 
       const rows = Array.isArray(res.data)
         ? res.data
         : res.data?.bookings || res.data?.results || [];
 
@@ -6969,67 +7010,69 @@ function ProviderCalendarScreen({ token, showFlash }) {
     marked[selectedDate] = {
       ...(marked[selectedDate] || {}),
       selected: true,
       selectedColor: colors.primarySoft,
       selectedTextColor: colors.textPrimary,
     };
 
     return marked;
   }, [bookingsByDate, isBookingCompleted, selectedDate]);
 
   const timelineEvents = useMemo(
     () =>
       selectedBookings
       .map((booking) => {
           const startIso = booking?.start_time || booking?.start;
           if (!startIso) return null;
           const startDate = new Date(startIso);
           if (Number.isNaN(startDate.getTime())) return null;
 
           let endDate = booking?.end_time || booking?.end ? new Date(booking?.end_time || booking?.end) : null;
           if (!endDate || Number.isNaN(endDate.getTime())) {
             const durationMin = Number(booking?.duration_minutes || booking?.duration || 30);
             endDate = new Date(startDate.getTime() + Math.max(durationMin, 1) * 60_000);
           }
 
-          const completed = isBookingCompleted(booking);
+          const status = getBookingStatusLabel(booking);
+          const completed = status.type === "completed";
           const accentColor = getEventAccentColor(booking);
 
           return {
             id: String(booking?.id || booking?.booking_id || `${startIso}-${booking?.service_name || "service"}`),
             start: startDate.toISOString(),
             end: endDate.toISOString(),
             title: booking?.service_name || "Service",
             summary: booking?.customer_name || "Customer",
             color: accentColor,
             accentColor,
             completed,
+            status,
             startLabel: `${formatTimelineTime(startDate)} - ${formatTimelineTime(endDate)}`,
           };
         })
         .filter(Boolean),
-    [formatTimelineTime, getEventAccentColor, isBookingCompleted, selectedBookings]
+    [formatTimelineTime, getBookingStatusLabel, getEventAccentColor, selectedBookings]
   );
 
   const calendarTheme = useMemo(
     () => ({
       backgroundColor: colors.surface,
       calendarBackground: colors.surface,
       dayTextColor: colors.textPrimary,
       monthTextColor: colors.textPrimary,
       textSectionTitleColor: colors.textSecondary,
       selectedDayBackgroundColor: colors.primarySoft,
       selectedDayTextColor: colors.textPrimary,
       todayTextColor: colors.primary,
       arrowColor: colors.primary,
       textDisabledColor: colors.textMuted,
       dotColor: colors.primary,
       selectedDotColor: colors.textPrimary,
       timelineContainerBackground: colors.surface,
       timelineBackgroundColor: colors.surface,
       timelineLineColor: colors.border,
       timelineTextColor: colors.textPrimary,
       timelineNowIndicatorColor: colors.primary,
     }),
     []
   );
 
@@ -7066,90 +7109,104 @@ function ProviderCalendarScreen({ token, showFlash }) {
             ...event,
             startDate,
             endDate,
           };
         })
         .filter(Boolean),
     [timelineEvents]
   );
 
   const appointmentListData = viewMode !== "day" ? sortedSelectedBookings : [];
   const showAppointmentsEmptyState = viewMode !== "day";
 
   return (
     <SafeAreaView style={styles.providerCalendarScreen} edges={["left", "right", "bottom"]}>
       <View style={styles.providerCalendarContentContainer}>
         <FlatList
           data={appointmentListData}
           keyExtractor={(booking) =>
             String(
               booking?.id ||
                 booking?.booking_id ||
                 `${booking?.start_time || booking?.start}-${booking?.service_name || "service"}`
             )
           }
           renderItem={({ item: booking }) => {
-            const completed = isBookingCompleted(booking);
+            const status = getBookingStatusLabel(booking);
+            const completed = status.type === "completed";
             const startIso = booking?.start_time || booking?.start;
             const startLabel = startIso
               ? new Date(startIso).toLocaleTimeString([], {
                   hour: "numeric",
                   minute: "2-digit",
                 })
               : "--:--";
 
             return (
               <View
                 style={[
                   styles.providerCalendarRow,
                   completed && styles.providerCalendarRowCompleted,
                 ]}
               >
                 <View style={{ flex: 1 }}>
                   <Text style={styles.providerCalendarTime}>{startLabel}</Text>
                   <Text
                     style={[
                       styles.providerCalendarService,
                       completed && styles.providerCalendarTextCompleted,
                     ]}
                   >
                     {booking?.service_name || "Service"}
                   </Text>
                   <Text
                     style={[
                       styles.providerCalendarCustomer,
                       completed && styles.providerCalendarTextCompleted,
                     ]}
                   >
                     {booking?.customer_name || "Customer"}
                   </Text>
                 </View>
-                {completed ? (
-                  <View style={styles.providerCalendarCompletedBadge}>
-                    <Text style={styles.providerCalendarCompletedText}>Completed</Text>
-                  </View>
-                ) : null}
+                <View
+                  style={[
+                    styles.providerCalendarStatusBadge,
+                    status.type === "cancelled" && styles.providerCalendarStatusBadgeCancelled,
+                    status.type === "completed" && styles.providerCalendarStatusBadgeCompleted,
+                  ]}
+                >
+                  <Text
+                    style={[
+                      styles.providerCalendarStatusText,
+                      status.type === "cancelled" && styles.providerCalendarStatusTextCancelled,
+                      status.type === "completed" && styles.providerCalendarStatusTextCompleted,
+                    ]}
+                    numberOfLines={1}
+                  >
+                    {status.label}
+                  </Text>
+                </View>
               </View>
             );
           }}
           ListHeaderComponent={
             <View style={{ backgroundColor: colors.background }}>
               <View style={styles.providerCalendarModeSwitch}>
                 {[
                   { key: "day", label: "Daily" },
                   { key: "week", label: "Weekly" },
                   { key: "month", label: "Monthly" },
                 ].map((mode) => {
                   const active = mode.key === viewMode;
                   return (
                     <TouchableOpacity
                       key={mode.key}
                       style={[
                         styles.providerCalendarModeButton,
                         active && styles.providerCalendarModeButtonActive,
                       ]}
                       onPress={() => setViewMode(mode.key)}
                     >
                       <Text
                         style={[
                           styles.providerCalendarModeText,
                           active && styles.providerCalendarModeTextActive,
@@ -9977,100 +10034,124 @@ signupTextButtonText: {
     borderTopLeftRadius: 12,
     borderBottomLeftRadius: 12,
   },
   providerDayScheduleEventBody: {
     flex: 1,
     minWidth: 0,
     paddingHorizontal: 9,
     paddingVertical: 8,
   },
   providerDayScheduleEventTime: {
     color: colors.textSecondary,
     fontSize: 11,
     fontWeight: "600",
   },
   providerDayScheduleEventTitle: {
     color: colors.textPrimary,
     fontSize: 13,
     fontWeight: "700",
     marginTop: 2,
   },
   providerDayScheduleEventSummary: {
     color: colors.textMuted,
     fontSize: 12,
     marginTop: 2,
   },
-  providerDayScheduleCompletedBadge: {
+  providerDayScheduleStatusBadge: {
     alignSelf: "flex-start",
     marginTop: 7,
     marginRight: 7,
     paddingHorizontal: 6,
     paddingVertical: 2,
     borderRadius: 999,
     borderWidth: 1,
-    borderColor: colors.textMuted,
+    borderColor: colors.textSecondary,
     backgroundColor: "rgba(0,0,0,0.2)",
   },
-  providerDayScheduleCompletedText: {
-    color: colors.textMuted,
+  providerDayScheduleStatusBadgeCancelled: {
+    borderColor: colors.error,
+  },
+  providerDayScheduleStatusBadgeCompleted: {
+    borderColor: colors.success,
+  },
+  providerDayScheduleStatusText: {
+    color: colors.textSecondary,
     fontSize: 9,
     fontWeight: "700",
   },
+  providerDayScheduleStatusTextCancelled: {
+    color: colors.error,
+  },
+  providerDayScheduleStatusTextCompleted: {
+    color: colors.success,
+  },
   providerCalendarHeaderBlock: {
     marginTop: 0,
   },
   providerCalendarListContent: {
     paddingBottom: 24,
   },
   providerCalendarEmpty: {
     color: colors.textMuted,
     marginTop: 10,
     fontSize: 14,
   },
   providerCalendarRow: {
     backgroundColor: colors.surface,
     borderColor: colors.border,
     borderWidth: 1,
     borderRadius: 10,
     padding: 12,
     marginBottom: 8,
     flexDirection: "row",
     alignItems: "center",
   },
   providerCalendarRowCompleted: {
     opacity: 0.75,
   },
   providerCalendarTime: {
     color: colors.textSecondary,
     fontSize: 12,
     marginBottom: 4,
   },
   providerCalendarService: {
     color: colors.textPrimary,
     fontSize: 15,
     fontWeight: "700",
   },
   providerCalendarCustomer: {
     color: colors.textSecondary,
     fontSize: 13,
     marginTop: 2,
   },
   providerCalendarTextCompleted: {
     color: colors.textMuted,
   },
-  providerCalendarCompletedBadge: {
+  providerCalendarStatusBadge: {
     paddingHorizontal: 10,
     paddingVertical: 5,
     borderRadius: 999,
     borderWidth: 1,
-    borderColor: colors.textMuted,
+    borderColor: colors.textSecondary,
     backgroundColor: colors.surfaceElevated,
   },
-  providerCalendarCompletedText: {
-    color: colors.textMuted,
+  providerCalendarStatusBadgeCancelled: {
+    borderColor: colors.error,
+  },
+  providerCalendarStatusBadgeCompleted: {
+    borderColor: colors.success,
+  },
+  providerCalendarStatusText: {
+    color: colors.textSecondary,
     fontSize: 11,
     fontWeight: "700",
   },
+  providerCalendarStatusTextCancelled: {
+    color: colors.error,
+  },
+  providerCalendarStatusTextCompleted: {
+    color: colors.success,
+  },
 
 })
 
 export default App;
 
EOF
)