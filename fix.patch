 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/App.js b/mobile/App.js
index 083ddf5655c1fa3fad463b549226bd9ea7e4d720..cdd0c646fa080ea1e71aed86fc5857da06bad41c 100644
--- a/mobile/App.js
+++ b/mobile/App.js
@@ -1311,66 +1311,69 @@ function ProfileScreen({ apiClient, authLoading, setToken, showFlash, token }) {
       console.log("[profile] save changes pressed");
       setEditSaving(true);
       const storedToken = await loadToken();
       console.log("[profile] API base URL", API);
       if (!storedToken) {
         if (showFlash) showFlash("error", "No access token found. Please log in again.");
         return;
       }
 
       const payload = {
         full_name: editProfile.full_name,
         phone: editProfile.phone,
         whatsapp: editProfile.whatsapp,
         location: editProfile.location,
       };
 
       console.log("[profile] save payload", payload);
       console.log("[profile] auth token present", Boolean(storedToken));
       const res = await apiClient.put("/users/me", payload, {
         headers: {
           Authorization: `Bearer ${storedToken}`,
         },
       });
       console.log("[profile] save response status", res?.status);
 
+      const meRes = await apiClient.get("/users/me");
+      console.log("[profile] refresh response status", meRes?.status);
 
-      // Refresh local user state so top card updates
-      const updatedProfile = {
-        full_name: res.data?.full_name ?? payload.full_name,
-        phone: res.data?.phone ?? payload.phone,
-        whatsapp: res.data?.whatsapp ?? payload.whatsapp,
-        location: res.data?.location ?? payload.location,
-      };
-      setUser((prev) => ({
-        ...prev,
-        ...updatedProfile,
-      }));
-      setEditProfile((prev) => ({
-        ...prev,
-        ...updatedProfile,
-      }));
+      setUser(meRes.data);
+      setEditProfile({
+        full_name: meRes.data?.full_name || "",
+        phone: meRes.data?.phone || "",
+        whatsapp: meRes.data?.whatsapp || "",
+        location: meRes.data?.location || "",
+      });
+      if (setToken) {
+        setToken((prev) => ({
+          ...(prev || {}),
+          email: meRes.data?.email,
+          username: meRes.data?.username,
+          isProvider: !!meRes.data?.is_provider,
+          isAdmin: !!meRes.data?.is_admin,
+        }));
+      }
 
       if (showFlash) showFlash("success", "Profile updated");
       setShowEdit(false);
     } catch (err) {
       console.log("[profile] error saving profile", {
         status: err.response?.status,
         data: err.response?.data,
         message: err.message,
       });
       const detail =
         err.response?.data?.detail || "Could not save profile changes.";
       if (showFlash) showFlash("error", detail);
     } finally {
       setEditSaving(false);
     }
   };
 
 
   const handleComingSoon = (label) => {
     if (showFlash) {
       showFlash("info", `${label} coming soon`);
     }
   };
 
   const formatBookingDate = (iso) => {
 
EOF
)