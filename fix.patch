 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/app.config.js b/mobile/app.config.js
index 27cf3d445c46368f6181442061f2b66631da0d6a..b282ae704181cb1daa9899ddc797faf56afbf9e2 100644
--- a/mobile/app.config.js
+++ b/mobile/app.config.js
@@ -1,69 +1,87 @@
 import "dotenv/config";
 
 console.log(">>> USING app.config.js <<<");
 
 export default {
   name: "BookitGY",
   slug: "bookitgy",
+  scheme: "bookitgy",
   version: "1.0.0",
   orientation: "portrait",
   icon: "./assets/icon.png",
   userInterfaceStyle: "light",
   splash: {
     image: "./assets/splash.png",
     resizeMode: "contain",
     backgroundColor: "#16a34a",
   },
   assetBundlePatterns: ["**/*"],
   newArchEnabled: false,
   // plugins: ["sentry-expo"],
 
   ios: {
     deploymentTarget: "16.0",
     supportsTablet: true,
     bundleIdentifier: "com.bookitgy.app",
     buildNumber: "1",
+    associatedDomains: ["applinks:bookitgy.com", "applinks:www.bookitgy.com"],
     privacyManifest: {
       NSPrivacyAccessedAPITypes: [],
       NSPrivacyCollectedDataTypes: [],
       NSPrivacyTracking: false,
     },
     infoPlist: {
       NSLocationWhenInUseUsageDescription:
         "BookitGY uses your location to show nearby service providers and enable navigation.",
       NSLocationAlwaysAndWhenInUseUsageDescription:
         "Location access allows providers to share their business location with customers.",
       ITSAppUsesNonExemptEncryption: false,
     },
     config: {
       googleMapsApiKey: (process.env.IOS_GOOGLE_MAPS_API_KEY || "").trim(),
 
     },
   },
 
   android: {
     package: "com.bookitgy.app",
     versionCode: 1,
     permissions: ["ACCESS_FINE_LOCATION", "ACCESS_COARSE_LOCATION"],
+    intentFilters: [
+      {
+        action: "VIEW",
+        autoVerify: true,
+        data: [
+          { scheme: "https", host: "bookitgy.com", pathPrefix: "/u" },
+          { scheme: "https", host: "www.bookitgy.com", pathPrefix: "/u" },
+        ],
+        category: ["BROWSABLE", "DEFAULT"],
+      },
+    ],
     adaptiveIcon: {
       foregroundImage: "./assets/adaptive-icon.png",
       backgroundColor: "#16a34a",
     },
     config: {
       googleMaps: {
         apiKey: (process.env.ANDROID_GOOGLE_MAPS_API_KEY || "").trim(),
 
       },
     },
   },
 
   web: { favicon: "./assets/favicon.png" },
 
   extra: {
     eas: {
       projectId: "ba67429b-0180-4382-bb17-633982e5a5f8",
       API_URL: process.env.API_URL || "https://bookitgy.onrender.com",
     },
     SENTRY_DSN: process.env.SENTRY_DSN || "",
   },
 };
+
+// iOS requires apple-app-site-association hosted at:
+// https://bookitgy.com/.well-known/apple-app-site-association
+// Android requires assetlinks.json hosted at:
+// https://bookitgy.com/.well-known/assetlinks.json
 
EOF
)