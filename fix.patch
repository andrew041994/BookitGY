 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/App.js b/mobile/App.js
index 6efc0c90233b0381b4bc58f79c1121c2fefbb0e4..7198e1590dbcca48612c08da2d63e268a9513ee6 100644
--- a/mobile/App.js
+++ b/mobile/App.js
@@ -173,50 +173,55 @@ function useFavoriteProviders(userKey) {
     [favoriteIds]
   );
 
   const refreshFavoriteProviders = useCallback(async () => {
     if (!favoriteIds.length) {
       setFavoriteProviders([]);
       return;
     }
 
     try {
       const res = await axios.get(`${API}/providers`);
       const list = Array.isArray(res.data)
         ? res.data
         : res.data?.providers || [];
 
       const idSet = new Set(favoriteIds);
       setFavoriteProviders(list.filter((p) => idSet.has(getProviderId(p))));
     } catch (err) {
       console.log(
         "Error refreshing favorite providers",
         err?.response?.data || err?.message
       );
     }
   }, [favoriteIds]);
 
+  useEffect(() => {
+    if (favoritesLoading) return;
+    refreshFavoriteProviders();
+  }, [favoriteIds, favoritesLoading, refreshFavoriteProviders]);
+
   const toggleFavorite = useCallback(
     (provider) => {
       const id = getProviderId(provider);
       if (!id) return;
 
       setFavoriteIds((prev) => {
         const already = prev.includes(id);
         const next = already ? prev.filter((x) => x !== id) : [...prev, id];
         persistIds(next);
         return next;
       });
 
       setFavoriteProviders((prev) => {
         const exists = prev.some((p) => getProviderId(p) === id);
         if (exists) {
           return prev.filter((p) => getProviderId(p) !== id);
         }
         return [...prev, provider];
       });
     },
     [persistIds]
   );
 
   const isFavorite = useCallback(
     (provider) => {
 
EOF
)