 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/mobile/App.js b/mobile/App.js
index d2cf1bb6d84a6cb0f3b85926686fccbe3fbed3fc..a50580c6cc748d28466583e34c149264bb00a6e7 100644
--- a/mobile/App.js
+++ b/mobile/App.js
@@ -6630,77 +6630,78 @@ function DayScheduleGrid({ events, startHour, endHour }) {
                     {event?.title || "Service"}
                   </Text>
                   <Text style={styles.providerDayScheduleEventSummary} numberOfLines={1} ellipsizeMode="tail">
                     {event?.summary || "Customer"}
                   </Text>
                 </View>
                 {completed ? (
                   <View style={styles.providerDayScheduleCompletedBadge}>
                     <Text style={styles.providerDayScheduleCompletedText}>Completed</Text>
                   </View>
                 ) : null}
               </TouchableOpacity>
             );
           })}
         </View>
       </View>
     </ScrollView>
   );
 }
 
 
 
 
 function ProviderCalendarScreen({ token, showFlash }) {
   // Keep the calendar in fixed-height view wrappers so it cannot expand into the appointments header/list area.
+  const WEEKLY_FIRST_DAY = 1;
+  const PROVIDER_CALENDAR_DEBUG = false;
+  const toLocalDateString = useCallback((dateLike) => {
+    if (!dateLike) return null;
+    const parsed = dateLike instanceof Date ? dateLike : new Date(dateLike);
+    if (Number.isNaN(parsed.getTime())) return null;
+    const yyyy = parsed.getFullYear();
+    const mm = String(parsed.getMonth() + 1).padStart(2, "0");
+    const dd = String(parsed.getDate()).padStart(2, "0");
+    return `${yyyy}-${mm}-${dd}`;
+  }, []);
   const [viewMode, setViewMode] = useState("month");
-  const [selectedDate, setSelectedDate] = useState(
-    new Date().toISOString().slice(0, 10)
-  );
+  const [selectedDate, setSelectedDate] = useState(() => toLocalDateString(new Date()) || "");
   const [bookingsByDate, setBookingsByDate] = useState({});
   const [loading, setLoading] = useState(false);
   const [error, setError] = useState("");
 
   const dateRange = useMemo(() => {
-    const base = new Date(`${selectedDate}T00:00:00`);
+    const base = new Date(`${selectedDate}T12:00:00`);
     const monthStart = new Date(base.getFullYear(), base.getMonth(), 1);
     const monthEnd = new Date(base.getFullYear(), base.getMonth() + 1, 0);
     return {
-      start: monthStart.toISOString().slice(0, 10),
-      end: monthEnd.toISOString().slice(0, 10),
+      start: toLocalDateString(monthStart),
+      end: toLocalDateString(monthEnd),
     };
-  }, [selectedDate]);
+  }, [selectedDate, toLocalDateString]);
 
-  const formatDayKey = useCallback((iso) => {
-    if (!iso) return null;
-    const parsed = new Date(iso);
-    if (Number.isNaN(parsed.getTime())) return null;
-    const yyyy = parsed.getFullYear();
-    const mm = String(parsed.getMonth() + 1).padStart(2, "0");
-    const dd = String(parsed.getDate()).padStart(2, "0");
-    return `${yyyy}-${mm}-${dd}`;
-  }, []);
+  const formatDayKey = useCallback((iso) => toLocalDateString(iso), [toLocalDateString]);
 
   const isBookingCompleted = useCallback((booking) => {
     const now = Date.now();
     const endTime = booking?.end_time || booking?.end;
     if (endTime) {
       const endMs = new Date(endTime).getTime();
       return Number.isFinite(endMs) && endMs < now;
     }
 
     const startTime = booking?.start_time || booking?.start;
     const durationMin = Number(booking?.duration_minutes || booking?.duration || 0);
     if (!startTime) return false;
     const startMs = new Date(startTime).getTime();
     if (!Number.isFinite(startMs)) return false;
     return startMs + Math.max(durationMin, 0) * 60_000 < now;
   }, []);
 
   const loadBookingsForRange = useCallback(async () => {
     try {
       setLoading(true);
       setError("");
 
       const authToken = await getAuthToken(token);
       if (!authToken) {
         setError("No access token found. Please log in again.");
@@ -6827,50 +6828,64 @@ function ProviderCalendarScreen({ token, showFlash }) {
       monthTextColor: colors.textPrimary,
       textSectionTitleColor: colors.textSecondary,
       selectedDayBackgroundColor: colors.primarySoft,
       selectedDayTextColor: colors.textPrimary,
       todayTextColor: colors.primary,
       arrowColor: colors.primary,
       textDisabledColor: colors.textMuted,
       dotColor: colors.primary,
       selectedDotColor: colors.textPrimary,
       timelineContainerBackground: colors.surface,
       timelineBackgroundColor: colors.surface,
       timelineLineColor: colors.border,
       timelineTextColor: colors.textPrimary,
       timelineNowIndicatorColor: colors.primary,
     }),
     []
   );
 
   const onSelectDate = useCallback((value) => {
     if (!value) return;
     const nextDate = typeof value === "string" ? value : value.dateString;
     if (!nextDate) return;
     setSelectedDate(nextDate);
   }, []);
 
+  useEffect(() => {
+    if (!PROVIDER_CALENDAR_DEBUG) return;
+    const selected = new Date(`${selectedDate}T12:00:00`);
+    if (Number.isNaN(selected.getTime())) {
+      console.log("[ProviderCalendarScreen][WeeklyDebug] invalid selectedDate", { selectedDate });
+      return;
+    }
+    console.log("[ProviderCalendarScreen][WeeklyDebug]", {
+      selectedDate,
+      weekStartDayIndex: selected.getDay(),
+      firstDay: WEEKLY_FIRST_DAY,
+    });
+  }, [PROVIDER_CALENDAR_DEBUG, WEEKLY_FIRST_DAY, selectedDate]);
+
   const dayGridEvents = useMemo(
     () =>
       timelineEvents
         .map((event) => {
           const startDate = new Date(event.start);
           const endDate = new Date(event.end);
           if (Number.isNaN(startDate.getTime()) || Number.isNaN(endDate.getTime())) return null;
           return {
             ...event,
             startDate,
             endDate,
           };
         })
         .filter(Boolean),
     [timelineEvents]
   );
 
   return (
     <SafeAreaView style={styles.providerCalendarScreen} edges={["left", "right", "bottom"]}>
       <View style={styles.providerCalendarContentContainer}>
         <View style={styles.providerCalendarModeSwitch}>
           {[
             { key: "day", label: "Daily" },
             { key: "week", label: "Weekly" },
             { key: "month", label: "Monthly" },
@@ -6900,51 +6915,51 @@ function ProviderCalendarScreen({ token, showFlash }) {
 
         <CalendarProvider date={selectedDate} onDateChanged={onSelectDate}>
           <View style={styles.providerCalendarCard}>
             {viewMode === "month" ? (
               <View
                 style={[
                   styles.providerCalendarViewport,
                   styles.providerCalendarViewportMonth,
                 ]}
               >
                 <Calendar
                   current={selectedDate}
                   markedDates={markedDates}
                   onDayPress={onSelectDate}
                   theme={calendarTheme}
                 />
               </View>
             ) : viewMode === "week" ? (
               <View
                 style={[
                   styles.providerCalendarViewport,
                   styles.providerCalendarViewportWeek,
                 ]}
               >
                 <WeekCalendar
-                  firstDay={1}
+                  firstDay={WEEKLY_FIRST_DAY}
                   current={selectedDate}
                   markedDates={markedDates}
                   onDayPress={onSelectDate}
                   theme={calendarTheme}
                 />
               </View>
             ) : (
               // Daily layout structure: WeekCalendar strip -> custom vertical day schedule grid.
               <View style={styles.providerCalendarDailyLayout}>
                 <View style={styles.providerCalendarDayStrip}>
                   <WeekCalendar
                     firstDay={0}
                     current={selectedDate}
                     markedDates={markedDates}
                     onDayPress={onSelectDate}
                     theme={calendarTheme}
                   />
                 </View>
                 <View style={styles.providerCalendarViewportDay}>
                   <DayScheduleGrid events={dayGridEvents} startHour={0} endHour={24} />
                 </View>
               </View>
             )}
           </View>
         </CalendarProvider>
 
EOF
)