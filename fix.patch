 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/frontend/src/main.jsx b/frontend/src/main.jsx
index 04a8f6e6db0a20623f4797339a81509488c1f057..0959377374e47fb1c4d1ab14d272a1a62b9e3ae3 100644
--- a/frontend/src/main.jsx
+++ b/frontend/src/main.jsx
@@ -434,132 +434,177 @@ function App() {
           </Link>
           {!token && (
             <p className="credentials-hint">
               Demo login: <strong>customer@guyana.com</strong> / <strong>pass</strong>
             </p>
           )}
         </div>
       </div>
     </div>
   )
 
   const ProtectedRoute = ({ children }) => {
     const location = useLocation()
     if (!token) {
       return <Navigate to="/login" replace state={{ from: location }} />
     }
     return children
   }
 
   const AdminBilling = () => {
     const [billingRows, setBillingRows] = React.useState([])
     const [loading, setLoading] = React.useState(false)
     const [error, setError] = React.useState('')
     const [hasLoaded, setHasLoaded] = React.useState(false)
     const [searchTerm, setSearchTerm] = React.useState('')
-    const [startDate, setStartDate] = React.useState('')
-    const [endDate, setEndDate] = React.useState('')
+    const [cycleMonth, setCycleMonth] = React.useState(() => {
+      const now = new Date()
+      const month = String(now.getMonth() + 1).padStart(2, '0')
+      return `${now.getFullYear()}-${month}-01`
+    })
     const [suspendingByAccountNumber, setSuspendingByAccountNumber] = React.useState({})
     const [payingByAccountNumber, setPayingByAccountNumber] = React.useState({})
+    const [markAllLoading, setMarkAllLoading] = React.useState(false)
+
+    const monthOptions = React.useMemo(() => {
+      const options = []
+      const base = new Date()
+      base.setDate(1)
+      base.setHours(0, 0, 0, 0)
+      for (let i = 0; i < 13; i += 1) {
+        const date = new Date(base.getFullYear(), base.getMonth() - i, 1)
+        const value = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-01`
+        const label = date.toLocaleDateString(undefined, { month: 'long', year: 'numeric' })
+        options.push({ value, label })
+      }
+      return options
+    }, [])
+
+    const selectedMonthLabel = React.useMemo(() => {
+      const match = monthOptions.find((option) => option.value === cycleMonth)
+      if (match) return match.label
+      const parsed = new Date(`${cycleMonth}T00:00:00`)
+      if (Number.isNaN(parsed.getTime())) return cycleMonth
+      return parsed.toLocaleDateString(undefined, { month: 'long', year: 'numeric' })
+    }, [cycleMonth, monthOptions])
 
     const fetchBillingRows = React.useCallback(async () => {
       setLoading(true)
       setError('')
       try {
-        const res = await apiClient.get('/admin/billing')
+        const res = await apiClient.get('/admin/billing', {
+          params: { cycle_month: cycleMonth },
+        })
         const responseData = res.data
         const hasValidRows =
           Array.isArray(responseData) ||
           Array.isArray(responseData?.providers) ||
           Array.isArray(responseData?.data)
         const responseRows = Array.isArray(responseData)
           ? responseData
           : Array.isArray(responseData?.providers)
             ? responseData.providers
             : Array.isArray(responseData?.data)
               ? responseData.data
               : []
 
         if (!hasValidRows) {
           setError('Unable to load provider billing details. Please refresh and try again.')
           setBillingRows([])
           return
         }
         setBillingRows(responseRows)
       } catch (err) {
         logApiError(err)
         setError('Unable to load provider billing details. Please refresh and try again.')
         setBillingRows([])
       } finally {
         setLoading(false)
         setHasLoaded(true)
       }
-    }, [])
+    }, [cycleMonth])
 
     React.useEffect(() => {
       fetchBillingRows()
     }, [fetchBillingRows])
 
     const markProviderPaid = async (accountNumber) => {
       if (!accountNumber) {
         setError('Missing account number for provider; billing rows must include account_number')
         return
       }
 
       if (payingByAccountNumber[accountNumber]) return
 
       setPayingByAccountNumber((prev) => ({ ...prev, [accountNumber]: true }))
       setError('')
 
       try {
         const res = await apiClient.post(
-          `/admin/billing/${accountNumber}/mark-paid`
+          `/admin/billing/${accountNumber}/mark-paid`,
+          { cycle_month: cycleMonth }
         )
         const payload = res?.data
         setBillingRows((prev) =>
           prev.map((row) =>
             row.account_number === accountNumber
               ? {
                 ...row,
                 is_paid: payload?.is_paid ?? true,
                 paid_at: payload?.paid_at ?? row.paid_at,
               }
               : row
           )
         )
       } catch (err) {
         logApiError(err)
         setError("Failed to update provider billing status.")
       } finally {
         setPayingByAccountNumber((prev) => {
           const next = { ...prev }
           delete next[accountNumber]
           return next
         })
       }
     }
 
+    const markAllPaid = async () => {
+      if (markAllLoading) return
+      setMarkAllLoading(true)
+      setError('')
+      try {
+        await apiClient.post('/admin/billing/mark-all-paid', {
+          cycle_month: cycleMonth,
+        })
+        await fetchBillingRows()
+      } catch (err) {
+        logApiError(err)
+        setError('Failed to update provider billing status.')
+      } finally {
+        setMarkAllLoading(false)
+      }
+    }
 
     const toggleProviderSuspension = async (accountNumber, shouldSuspend) => {
       if (!accountNumber) {
         setError('Missing account number for provider; billing rows must include account_number')
         console.error('Missing account number for provider suspension request.')
         return
       }
 
       if (suspendingByAccountNumber[accountNumber]) return
 
       if (import.meta.env?.DEV) {
         console.log('[billing] toggle suspend click', {
           accountNumber,
           currentSuspended: !shouldSuspend,
           nextSuspended: shouldSuspend,
         })
         console.log('[billing] POST', '/admin/providers/suspension')
       }
 
       setSuspendingByAccountNumber((prev) => ({ ...prev, [accountNumber]: true }))
 
       try {
         const res = await apiClient.post('/admin/providers/suspension', {
           account_number: accountNumber,
           is_suspended: shouldSuspend,
@@ -585,138 +630,127 @@ function App() {
         }
       } catch (err) {
         logApiError(err)
         setError(
           err?.response?.data?.detail
             || err?.response?.data?.message
             || 'Failed to update provider account status.'
         )
       } finally {
         setSuspendingByAccountNumber((prev) => {
           const next = { ...prev }
           delete next[accountNumber]
           return next
         })
       }
     }
 
 
     const normalizedSearch = searchTerm.trim().toLowerCase()
 
     const formatAmount = (value) =>
       Number(value ?? 0).toLocaleString(undefined, {
         minimumFractionDigits: 0,
         maximumFractionDigits: 2,
       })
-    const isWithinDateRange = (row) => {
-      if (!startDate && !endDate) return true
-      if (!row.last_due_date) return false
-
-      const dueDate = new Date(row.last_due_date)
-      if (Number.isNaN(dueDate.getTime())) return false
 
-      if (startDate) {
-        const start = new Date(startDate)
-        start.setHours(0, 0, 0, 0)
-        if (dueDate < start) return false
-      }
-
-      if (endDate) {
-        const end = new Date(endDate)
-        end.setHours(23, 59, 59, 999)
-        if (dueDate > end) return false
-      }
-
-      return true
-    }
-
-    const hasActiveFilters = Boolean(normalizedSearch || startDate || endDate)
+    const hasActiveFilters = Boolean(normalizedSearch)
     const filteredRows = hasActiveFilters
       ? billingRows.filter((row) => {
         const accountNumber = (row.account_number || '').toLowerCase()
         const phone = (row.phone || '').toLowerCase()
         const matchesSearch =
           !normalizedSearch ||
           accountNumber.includes(normalizedSearch) ||
           phone.includes(normalizedSearch)
 
-        return matchesSearch && isWithinDateRange(row)
+        return matchesSearch
       })
       : billingRows
 
     const showEmptyState = hasLoaded && !loading && !error && billingRows.length === 0
     const showNoMatches = hasLoaded && !loading && !error && billingRows.length > 0 && filteredRows.length === 0
 
     const formatDueDate = (value) => {
       if (!value) return 'No bill yet'
       const parsed = new Date(value)
       if (Number.isNaN(parsed.getTime())) return 'Unknown date'
       return parsed.toLocaleDateString(undefined, {
         year: 'numeric',
         month: 'short',
         day: 'numeric',
       })
     }
 
     return (
       <div className="admin-page">
         <div className="admin-header">
           <div>
             <p className="eyebrow">Billing</p>
-            <h1>Provider Billing</h1>
+            <h1>{`Provider Billing — ${selectedMonthLabel}`}</h1>
             <p className="header-subtitle">Monitor outstanding balances, search by account or phone, and mark charges as paid.</p>
           </div>
         </div>
 
         <div className="admin-card">
           <div className="billing-toolbar">
             <div className="billing-search">
               <label htmlFor="billing-search-input">Filter by account or phone</label>
               <input
                 id="billing-search-input"
                 type="search"
                 placeholder="e.g. ACC-1234 or +592..."
                 value={searchTerm}
                 onChange={(e) => setSearchTerm(e.target.value)}
               />
             </div>
             <div className="billing-date-range">
-              <label>Date range (last due date)</label>
+              <label htmlFor="billing-cycle-month">Billing month</label>
               <div className="billing-date-range__inputs">
-                <input
-                  type="date"
-                  value={startDate}
-                  onChange={(e) => setStartDate(e.target.value)}
-                  aria-label="Start date"
-                />
-                <span aria-hidden="true">—</span>
-                <input
-                  type="date"
-                  value={endDate}
-                  onChange={(e) => setEndDate(e.target.value)}
-                  aria-label="End date"
-                />
+                <select
+                  id="billing-cycle-month"
+                  value={cycleMonth}
+                  onChange={(e) => setCycleMonth(e.target.value)}
+                >
+                  {monthOptions.map((option) => (
+                    <option key={option.value} value={option.value}>
+                      {option.label}
+                    </option>
+                  ))}
+                </select>
+              </div>
+            </div>
+            <div className="billing-date-range">
+              <label>&nbsp;</label>
+              <div className="billing-date-range__inputs">
+                <button
+                  className="primary-btn"
+                  onClick={markAllPaid}
+                  disabled={loading || markAllLoading}
+                >
+                  {markAllLoading ? 'Marking all…' : 'Mark all paid'}
+                </button>
               </div>
             </div>
             {loading && <span className="muted">Loading providers…</span>}
           </div>
 
           {error && <p className="form-error">{error}</p>}
 
           <div className="billing-table">
             <div className="billing-table__head">
               <span>Name</span>
               <span>Account number</span>
               <span>Phone number</span>
               <span>Amount due (platform fees)</span>
               <span>Last due date</span>
               <span>Status</span>
               <span>Account status</span>
               <span className="sr-only">Actions</span>
             </div>
             {filteredRows.map((row) => {
               const isSuspended = row.is_suspended ?? row.isSuspended ?? row.is_locked ?? false
               const accountNumber = row.account_number
               const isSuspensionLoading = Boolean(
                 accountNumber && suspendingByAccountNumber[accountNumber]
               )
               const isPaying = Boolean(
@@ -740,51 +774,51 @@ function App() {
                 </span>
                 <div className="billing-actions">
                   <button
                     className={row.is_paid ? 'ghost-btn' : 'primary-btn'}
                     onClick={() => markProviderPaid(accountNumber)}
                     disabled={loading || isPaying || row.is_paid}
                   >
                     {row.is_paid ? 'Paid' : 'Mark as paid'}
                   </button>
                   <button
                     className={isSuspended ? 'primary-btn' : 'ghost-btn'}
                     onClick={() => toggleProviderSuspension(accountNumber, !isSuspended)}
                     disabled={isSuspensionLoading}
                   >
                     {isSuspended ? 'Reactivate account' : 'Suspend account'}
                   </button>
                 </div>
               </div>
             )})}
 
             {showNoMatches && (
               <p className="muted">No providers match your current filters.</p>
             )}
 
             {showEmptyState && (
-              <p className="muted">No providers match that account, phone, or date range.</p>
+              <p className="muted">No providers match that account or phone.</p>
             )}
           </div>
         </div>
       </div>
     )
   }
 
   const AdminLayout = () => {
     const location = useLocation()
     return (
       <div className="admin-shell">
         <aside className="admin-sidebar">
           <nav className="sidebar-nav">
             <NavLink to="/admin/promotions" className={({ isActive }) => isActive ? 'sidebar-link active' : 'sidebar-link'}>
               Promotions
             </NavLink>
             <NavLink to="/admin/service-charge" className={({ isActive }) => isActive ? 'sidebar-link active' : 'sidebar-link'}>
               Service Charge
             </NavLink>
             <NavLink to="/admin/billing" className={({ isActive }) => isActive ? 'sidebar-link active' : 'sidebar-link'}>
               Billing
             </NavLink>
           </nav>
           <div className="sidebar-footer">
             Logged in · {token ? 'Authenticated' : 'Guest'}
 
EOF
)